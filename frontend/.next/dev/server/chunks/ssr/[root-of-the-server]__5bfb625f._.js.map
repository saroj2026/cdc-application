{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Saroj/Desktop/cdcteam-feature-as400integration/cdcteam-feature-as400-integration/seg-cdc-application/frontend/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\r\nimport { twMerge } from 'tailwind-merge'\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Saroj/Desktop/cdcteam-feature-as400integration/cdcteam-feature-as400-integration/seg-cdc-application/frontend/contexts/sidebar-context.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\nimport { createContext, useContext, useState, useEffect } from \"react\"\r\n\r\ninterface SidebarContextType {\r\n  isCollapsed: boolean\r\n  toggleCollapse: () => void\r\n  mounted: boolean\r\n}\r\n\r\nconst SidebarContext = createContext<SidebarContextType | undefined>(undefined)\r\n\r\nexport function SidebarProvider({ children }: { children: React.ReactNode }) {\r\n  const [isCollapsed, setIsCollapsed] = useState(false)\r\n  const [mounted, setMounted] = useState(false)\r\n\r\n  useEffect(() => {\r\n    const stored = localStorage.getItem(\"sidebarCollapsed\") === \"true\"\r\n    setIsCollapsed(stored)\r\n    setMounted(true)\r\n  }, [])\r\n\r\n  const toggleCollapse = () => {\r\n    setIsCollapsed((prev) => {\r\n      const newState = !prev\r\n      localStorage.setItem(\"sidebarCollapsed\", String(newState))\r\n      return newState\r\n    })\r\n  }\r\n\r\n  return <SidebarContext.Provider value={{ isCollapsed, toggleCollapse, mounted }}>{children}</SidebarContext.Provider>\r\n}\r\n\r\nexport function useSidebar() {\r\n  const context = useContext(SidebarContext)\r\n  if (context === undefined) {\r\n    throw new Error(\"useSidebar must be used within SidebarProvider\")\r\n  }\r\n  return context\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAGA;AAHA;;;AAWA,MAAM,+BAAiB,IAAA,sNAAa,EAAiC;AAE9D,SAAS,gBAAgB,EAAE,QAAQ,EAAiC;IACzE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,MAAM,SAAS,aAAa,OAAO,CAAC,wBAAwB;QAC5D,eAAe;QACf,WAAW;IACb,GAAG,EAAE;IAEL,MAAM,iBAAiB;QACrB,eAAe,CAAC;YACd,MAAM,WAAW,CAAC;YAClB,aAAa,OAAO,CAAC,oBAAoB,OAAO;YAChD,OAAO;QACT;IACF;IAEA,qBAAO,8OAAC,eAAe,QAAQ;QAAC,OAAO;YAAE;YAAa;YAAgB;QAAQ;kBAAI;;;;;;AACpF;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Saroj/Desktop/cdcteam-feature-as400integration/cdcteam-feature-as400-integration/seg-cdc-application/frontend/lib/store/hooks.ts"],"sourcesContent":["/**\r\n * Typed Redux hooks\r\n */\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport type { RootState, AppDispatch } from './store';\r\n\r\nexport const useAppDispatch = useDispatch.withTypes<AppDispatch>();\r\nexport const useAppSelector = useSelector.withTypes<RootState>();\r\n\r\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;AACD;;AAGO,MAAM,iBAAiB,wKAAW,CAAC,SAAS;AAC5C,MAAM,iBAAiB,wKAAW,CAAC,SAAS"}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Saroj/Desktop/cdcteam-feature-as400integration/cdcteam-feature-as400-integration/seg-cdc-application/frontend/lib/store/slices/permissionSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit'\r\n\r\ninterface PermissionState {\r\n  permissions: string[]\r\n  isLoading: boolean\r\n  error: string | null\r\n}\r\n\r\nconst initialState: PermissionState = {\r\n  permissions: [],\r\n  isLoading: false,\r\n  error: null,\r\n}\r\n\r\nconst permissionSlice = createSlice({\r\n  name: 'permissions',\r\n  initialState,\r\n  reducers: {\r\n    setPermissions: (state, action: PayloadAction<string[]>) => {\r\n      state.permissions = action.payload\r\n    },\r\n    clearPermissions: (state) => {\r\n      state.permissions = []\r\n    },\r\n  },\r\n})\r\n\r\nexport const { setPermissions, clearPermissions } = permissionSlice.actions\r\nexport default permissionSlice.reducer\r\n\r\n// Permission matrix (matches backend)\r\nconst PERMISSION_MATRIX: Record<string, string[]> = {\r\n  create_user: ['super_admin', 'org_admin'],\r\n  manage_roles: ['super_admin', 'org_admin'],\r\n  create_connection: ['super_admin', 'org_admin', 'data_engineer'],\r\n  view_credentials: [], // No one can view credentials\r\n  test_connection: ['super_admin', 'org_admin', 'data_engineer'],\r\n  create_pipeline: ['super_admin', 'org_admin', 'data_engineer'],\r\n  start_stop_pipeline: ['super_admin', 'org_admin', 'operator'],\r\n  pause_pipeline: ['super_admin', 'org_admin', 'operator'],\r\n  reset_offsets: ['super_admin', 'org_admin'],\r\n  trigger_full_load: ['super_admin', 'org_admin', 'data_engineer'],\r\n  delete_pipeline: ['super_admin', 'org_admin'],\r\n  view_metrics: ['super_admin', 'org_admin', 'data_engineer', 'operator', 'viewer'],\r\n  view_audit_logs: ['super_admin', 'org_admin'],\r\n}\r\n\r\n// Page access permissions - maps routes to required permissions\r\nexport const PAGE_PERMISSIONS: Record<string, string[]> = {\r\n  '/dashboard': ['view_metrics'], // All authenticated users can view dashboard\r\n  '/monitoring': ['view_metrics'],\r\n  '/connections': ['create_connection'], // Need create permission to view connections page\r\n  '/pipelines': ['create_pipeline'], // Need create permission to view pipelines page\r\n  '/analytics': ['view_metrics'],\r\n  '/errors': ['view_metrics'], // All can view errors\r\n  '/governance': ['view_metrics'], // All can view governance\r\n  '/users': ['create_user'], // Only admins can manage users\r\n  '/settings': ['manage_roles'], // Only admins can access settings\r\n}\r\n\r\n// Permission check helpers\r\nexport const hasPermission = (permission: string) => (state: any) => {\r\n  // Check if user has explicit permission\r\n  if (state.permissions?.permissions?.includes(permission)) {\r\n    return true\r\n  }\r\n  \r\n  // Check user role from auth state\r\n  const user = state.auth?.user\r\n  if (!user) return false\r\n  \r\n  // Super admin has all permissions\r\n  if (user.is_superuser || user.role_name === 'super_admin') {\r\n    return true\r\n  }\r\n  \r\n  // Check role-based permissions\r\n  const allowedRoles = PERMISSION_MATRIX[permission] || []\r\n  const userRole = user.role_name?.toLowerCase()\r\n  \r\n  return allowedRoles.includes(userRole)\r\n}\r\n\r\nexport const hasAnyPermission = (permissions: string[]) => (state: { permissions: PermissionState }) => {\r\n  return permissions.some(perm => state.permissions.permissions.includes(perm))\r\n}\r\n\r\nexport const hasAllPermissions = (permissions: string[]) => (state: { permissions: PermissionState }) => {\r\n  return permissions.every(perm => state.permissions.permissions.includes(perm))\r\n}\r\n\r\n// Check if user can access a page\r\nexport const canAccessPage = (path: string) => (state: any) => {\r\n  const user = state.auth?.user\r\n  if (!user) return false\r\n  \r\n  // Super admin has access to all pages - check multiple ways\r\n  const isSuperAdmin = user.is_superuser === true || \r\n                      user.is_superuser === 'true' ||\r\n                      String(user.is_superuser).toLowerCase() === 'true' ||\r\n                      user.role_name === 'super_admin' ||\r\n                      user.role_name === 'admin'\r\n  \r\n  if (isSuperAdmin) {\r\n    return true\r\n  }\r\n  \r\n  // Dashboard is accessible to all authenticated users\r\n  if (path === '/dashboard') {\r\n    return true\r\n  }\r\n  \r\n  // Get required permissions for the page\r\n  const requiredPermissions = PAGE_PERMISSIONS[path] || []\r\n  \r\n  // If no permissions required, allow access\r\n  if (requiredPermissions.length === 0) {\r\n    return true\r\n  }\r\n  \r\n  // Check if user has any of the required permissions\r\n  return requiredPermissions.some(permission => hasPermission(permission)(state))\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 287, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Saroj/Desktop/cdcteam-feature-as400integration/cdcteam-feature-as400-integration/seg-cdc-application/frontend/components/layout/sidebar.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport Link from \"next/link\"\r\nimport { usePathname } from \"next/navigation\"\r\nimport { cn } from \"@/lib/utils\"\r\nimport {\r\n  Database,\r\n  BarChart3,\r\n  Settings,\r\n  GitBranch,\r\n  AlertTriangle,\r\n  Activity,\r\n  Home,\r\n  Shield,\r\n  Users,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  ChevronDown,\r\n  ChevronUp,\r\n} from \"lucide-react\"\r\nimport { useSidebar } from \"@/contexts/sidebar-context\"\r\nimport { useAppSelector } from \"@/lib/store/hooks\"\r\nimport { canAccessPage } from \"@/lib/store/slices/permissionSlice\"\r\n\r\nconst menuSections = [\r\n  {\r\n    title: \"PLATFORM\",\r\n    items: [\r\n      { href: \"/dashboard\", label: \"Dashboard\", icon: Home },\r\n      { href: \"/monitoring\", label: \"Monitoring\", icon: Activity },\r\n    ],\r\n  },\r\n  {\r\n    title: \"REPLICATION\",\r\n    items: [\r\n      { href: \"/connections\", label: \"Connections\", icon: Database },\r\n      { href: \"/pipelines\", label: \"Pipelines\", icon: GitBranch },\r\n      { href: \"/analytics\", label: \"Analytics\", icon: BarChart3 },\r\n    ],\r\n  },\r\n  {\r\n    title: \"OPERATIONS\",\r\n    items: [\r\n      { href: \"/errors\", label: \"Errors & Alerts\", icon: AlertTriangle },\r\n      { href: \"/governance\", label: \"Data Governance\", icon: Shield },\r\n      { href: \"/users\", label: \"User Management\", icon: Users },\r\n      { href: \"/settings\", label: \"Settings\", icon: Settings },\r\n    ],\r\n  },\r\n]\r\n\r\nexport function Sidebar() {\r\n  const pathname = usePathname()\r\n  const { isCollapsed, toggleCollapse, mounted } = useSidebar()\r\n  // Use specific selectors instead of root state to prevent unnecessary rerenders\r\n  const { user, isAuthenticated } = useAppSelector((state) => state.auth)\r\n  const permissions = useAppSelector((state) => state.permissions)\r\n  const [expandedSections, setExpandedSections] = useState<Record<string, boolean>>({\r\n    PLATFORM: true,\r\n    REPLICATION: true,\r\n    OPERATIONS: true,\r\n  })\r\n\r\n  // Filter menu items based on permissions\r\n  const getFilteredMenuSections = () => {\r\n    // If user is not loaded yet, show all items (will be filtered once user loads)\r\n    if (!user || !isAuthenticated) {\r\n      return menuSections\r\n    }\r\n    \r\n    // Super admin bypass - show all menu items for super admin\r\n    const isSuperAdmin = user.is_superuser === true || \r\n                        user.role_name === 'super_admin' || \r\n                        user.role_name === 'admin' ||\r\n                        user.is_superuser === 'true' || // Handle string 'true'\r\n                        String(user.is_superuser).toLowerCase() === 'true'\r\n    \r\n    if (isSuperAdmin) {\r\n      return menuSections\r\n    }\r\n    \r\n    // Create minimal state object for permission checks\r\n    const minimalState = { auth: { user, isAuthenticated }, permissions }\r\n    \r\n    return menuSections.map((section) => ({\r\n      ...section,\r\n      items: section.items.filter((item) => {\r\n        // Check if user can access this page\r\n        return canAccessPage(item.href)(minimalState)\r\n      }),\r\n    })).filter((section) => section.items.length > 0) // Remove empty sections\r\n  }\r\n\r\n  // Auto-expand section if current path matches any item in that section\r\n  useEffect(() => {\r\n    if (!isCollapsed) {\r\n      const newExpanded: Record<string, boolean> = {}\r\n      menuSections.forEach((section) => {\r\n        const hasActiveItem = section.items.some(\r\n          (item) => pathname === item.href || pathname.startsWith(item.href + \"/\")\r\n        )\r\n        newExpanded[section.title] = hasActiveItem || expandedSections[section.title]\r\n      })\r\n      setExpandedSections(newExpanded)\r\n    }\r\n  }, [pathname, isCollapsed])\r\n\r\n  const toggleSection = (sectionTitle: string) => {\r\n    if (isCollapsed) return\r\n    setExpandedSections((prev) => ({\r\n      ...prev,\r\n      [sectionTitle]: !prev[sectionTitle],\r\n    }))\r\n  }\r\n\r\n  // Show loading state if not mounted\r\n  if (!mounted) {\r\n    return (\r\n      <aside className=\"w-64 border-r border-border bg-sidebar flex flex-col transition-all duration-300\">\r\n        <div className=\"p-6 border-b border-border\" />\r\n      </aside>\r\n    )\r\n  }\r\n  \r\n  // Debug: Log user info for super admin check\r\n  if (process.env.NODE_ENV === 'development' && user) {\r\n    console.log('[Sidebar] User check:', {\r\n      is_superuser: user.is_superuser,\r\n      role_name: user.role_name,\r\n      email: user.email,\r\n      willShowAll: user.is_superuser === true || user.role_name === 'super_admin' || user.role_name === 'admin'\r\n    })\r\n  }\r\n\r\n  return (\r\n    <aside\r\n      className={cn(\r\n        \"border-r border-border bg-sidebar flex flex-col transition-all duration-300\",\r\n        isCollapsed ? \"w-20\" : \"w-64\",\r\n      )}\r\n    >\r\n      {/* Logo */}\r\n      <div className=\"p-6 border-b border-border flex items-center justify-between\">\r\n        {!isCollapsed && (\r\n          <div className=\"flex items-center gap-2\">\r\n            <div className=\"w-8 h-8 bg-gradient-to-br from-primary to-info rounded-lg flex items-center justify-center flex-shrink-0\">\r\n              <Database className=\"w-5 h-5 text-foreground\" />\r\n            </div>\r\n            <div>\r\n              <h1 className=\"font-bold text-foreground text-sm\">CDC Admin</h1>\r\n              <p className=\"text-xs text-foreground-muted\">Platform</p>\r\n            </div>\r\n          </div>\r\n        )}\r\n        {isCollapsed && (\r\n          <div className=\"w-8 h-8 bg-gradient-to-br from-primary to-info rounded-lg flex items-center justify-center\">\r\n            <Database className=\"w-5 h-5 text-foreground\" />\r\n          </div>\r\n        )}\r\n        <button\r\n          onClick={toggleCollapse}\r\n          className=\"p-1.5 hover:bg-surface-hover rounded-lg transition-colors\"\r\n          aria-label=\"Toggle sidebar\"\r\n        >\r\n          {isCollapsed ? <ChevronRight className=\"w-4 h-4\" /> : <ChevronLeft className=\"w-4 h-4\" />}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Navigation */}\r\n      <nav className=\"flex-1 overflow-y-auto px-3 py-4 space-y-6\">\r\n        {getFilteredMenuSections().map((section) => {\r\n          const isExpanded = expandedSections[section.title] ?? true\r\n          const hasActiveItem = section.items.some(\r\n            (item) => pathname === item.href || pathname.startsWith(item.href + \"/\")\r\n          )\r\n\r\n          return (\r\n            <div key={section.title}>\r\n              {!isCollapsed ? (\r\n                <>\r\n                  {/* Dropdown Header */}\r\n                  <button\r\n                    onClick={() => toggleSection(section.title)}\r\n                    className={cn(\r\n                      \"w-full flex items-center justify-between px-3 py-2 rounded-lg text-xs font-semibold text-foreground-muted uppercase tracking-wider mb-2 transition-colors hover:bg-surface-hover hover:text-primary\",\r\n                      hasActiveItem && \"text-primary\"\r\n                    )}\r\n                  >\r\n                    <span>{section.title}</span>\r\n                    {isExpanded ? (\r\n                      <ChevronUp className=\"w-3 h-3\" />\r\n                    ) : (\r\n                      <ChevronDown className=\"w-3 h-3\" />\r\n                    )}\r\n                  </button>\r\n\r\n                  {/* Dropdown Content */}\r\n                  <div\r\n                    className={cn(\r\n                      \"space-y-1 overflow-hidden transition-all duration-300 ease-in-out\",\r\n                      isExpanded ? \"max-h-96 opacity-100\" : \"max-h-0 opacity-0\"\r\n                    )}\r\n                  >\r\n                    {section.items.map((item) => {\r\n                      const Icon = item.icon\r\n                      const isActive = pathname === item.href || pathname.startsWith(item.href + \"/\")\r\n                      return (\r\n                        <Link\r\n                          key={item.href}\r\n                          href={item.href}\r\n                          className={cn(\r\n                            \"flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors\",\r\n                            isActive\r\n                              ? \"bg-primary/20 text-primary border border-primary/30 font-semibold\"\r\n                              : \"text-foreground-muted hover:text-primary hover:bg-surface-hover\",\r\n                          )}\r\n                        >\r\n                          <Icon className=\"w-4 h-4 flex-shrink-0\" />\r\n                          <span>{item.label}</span>\r\n                        </Link>\r\n                      )\r\n                    })}\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                /* Collapsed Sidebar - Show all items without dropdown */\r\n                <div className=\"space-y-1\">\r\n                  {section.items.map((item) => {\r\n                    const Icon = item.icon\r\n                    const isActive = pathname === item.href || pathname.startsWith(item.href + \"/\")\r\n                    return (\r\n                      <Link\r\n                        key={item.href}\r\n                        href={item.href}\r\n                        title={item.label}\r\n                        className={cn(\r\n                          \"flex items-center gap-3 py-2 rounded-lg text-sm font-medium transition-colors justify-center px-0\",\r\n                          isActive\r\n                            ? \"bg-primary/20 text-primary border border-primary/30 font-semibold\"\r\n                            : \"text-foreground-muted hover:text-primary hover:bg-surface-hover\",\r\n                        )}\r\n                      >\r\n                        <Icon className=\"w-4 h-4 flex-shrink-0\" />\r\n                      </Link>\r\n                    )\r\n                  })}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )\r\n        })}\r\n      </nav>\r\n\r\n      {/* Footer */}\r\n      <div className=\"p-3 border-t border-border\">\r\n        <div className={cn(\"glass p-3 rounded-lg text-xs text-foreground-muted\", isCollapsed && \"flex justify-center\")}>\r\n          {!isCollapsed && (\r\n            <>\r\n              <p className=\"font-semibold mb-1\">v1.0.0</p>\r\n              <p>Real-time CDC Platform</p>\r\n            </>\r\n          )}\r\n          {isCollapsed && <p className=\"font-semibold\">v1</p>}\r\n        </div>\r\n      </div>\r\n    </aside>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 732, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Saroj/Desktop/cdcteam-feature-as400integration/cdcteam-feature-as400-integration/seg-cdc-application/frontend/contexts/theme-context.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\nimport { createContext, useContext, useEffect, useState } from \"react\"\r\n\r\ntype Theme = \"light\" | \"dark\"\r\n\r\ninterface ThemeContextType {\r\n  theme: Theme\r\n  toggleTheme: () => void\r\n}\r\n\r\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined)\r\n\r\nexport function ThemeProvider({ children }: { children: React.ReactNode }) {\r\n  // Start with \"dark\" as default to match server-side rendering\r\n  // This prevents hydration mismatch\r\n  const [theme, setTheme] = useState<Theme>(\"dark\")\r\n  const [mounted, setMounted] = useState(false)\r\n\r\n  useEffect(() => {\r\n    // Mark as mounted to prevent hydration issues\r\n    setMounted(true)\r\n    \r\n    // Hydrate theme from localStorage on client mount\r\n    const stored = localStorage.getItem(\"theme\") as Theme | null\r\n    if (stored && (stored === \"dark\" || stored === \"light\")) {\r\n      setTheme(stored)\r\n      document.documentElement.classList.toggle(\"dark\", stored === \"dark\")\r\n      document.documentElement.classList.toggle(\"light\", stored === \"light\")\r\n    } else {\r\n      // Default to dark - ensure DOM matches\r\n      const defaultTheme: Theme = \"dark\"\r\n      setTheme(defaultTheme)\r\n      localStorage.setItem(\"theme\", defaultTheme)\r\n      document.documentElement.classList.remove(\"light\")\r\n      document.documentElement.classList.add(\"dark\")\r\n    }\r\n  }, [])\r\n\r\n  const toggleTheme = () => {\r\n    setTheme((prev) => {\r\n      const newTheme = prev === \"dark\" ? \"light\" : \"dark\"\r\n      localStorage.setItem(\"theme\", newTheme)\r\n      document.documentElement.classList.toggle(\"dark\", newTheme === \"dark\")\r\n      document.documentElement.classList.toggle(\"light\", newTheme === \"light\")\r\n      return newTheme\r\n    })\r\n  }\r\n\r\n  return <ThemeContext.Provider value={{ theme, toggleTheme }}>{children}</ThemeContext.Provider>\r\n}\r\n\r\nexport function useTheme() {\r\n  const context = useContext(ThemeContext)\r\n  if (context === undefined) {\r\n    throw new Error(\"useTheme must be used within ThemeProvider\")\r\n  }\r\n  // Return default theme if not mounted yet to prevent hydration issues\r\n  return {\r\n    theme: context.theme || \"dark\",\r\n    toggleTheme: context.toggleTheme,\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAGA;AAHA;;;AAYA,MAAM,6BAAe,IAAA,sNAAa,EAA+B;AAE1D,SAAS,cAAc,EAAE,QAAQ,EAAiC;IACvE,8DAA8D;IAC9D,mCAAmC;IACnC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAQ;IAC1C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,8CAA8C;QAC9C,WAAW;QAEX,kDAAkD;QAClD,MAAM,SAAS,aAAa,OAAO,CAAC;QACpC,IAAI,UAAU,CAAC,WAAW,UAAU,WAAW,OAAO,GAAG;YACvD,SAAS;YACT,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,WAAW;YAC7D,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,WAAW;QAChE,OAAO;YACL,uCAAuC;YACvC,MAAM,eAAsB;YAC5B,SAAS;YACT,aAAa,OAAO,CAAC,SAAS;YAC9B,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC;YAC1C,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;QACzC;IACF,GAAG,EAAE;IAEL,MAAM,cAAc;QAClB,SAAS,CAAC;YACR,MAAM,WAAW,SAAS,SAAS,UAAU;YAC7C,aAAa,OAAO,CAAC,SAAS;YAC9B,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,aAAa;YAC/D,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,aAAa;YAChE,OAAO;QACT;IACF;IAEA,qBAAO,8OAAC,aAAa,QAAQ;QAAC,OAAO;YAAE;YAAO;QAAY;kBAAI;;;;;;AAChE;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,sEAAsE;IACtE,OAAO;QACL,OAAO,QAAQ,KAAK,IAAI;QACxB,aAAa,QAAQ,WAAW;IAClC;AACF"}},
    {"offset": {"line": 887, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Saroj/Desktop/cdcteam-feature-as400integration/cdcteam-feature-as400-integration/seg-cdc-application/frontend/lib/store/slices/authSlice.ts"],"sourcesContent":["/**\r\n * Auth Redux slice\r\n */\r\nimport { createSlice, createAsyncThunk, PayloadAction } from '@reduxjs/toolkit';\r\nimport { apiClient } from '@/lib/api/client';\r\n\r\ninterface User {\r\n  id: string | number;\r\n  email: string;\r\n  full_name: string;\r\n  is_active: boolean;\r\n  is_superuser: boolean;\r\n  role_name?: string; // Added to match backend response\r\n  roles?: Array<{ id: number; name: string }>; // Optional, may not be in response\r\n}\r\n\r\ninterface AuthState {\r\n  user: User | null;\r\n  token: string | null;\r\n  isAuthenticated: boolean;\r\n  isLoading: boolean;\r\n  error: string | null;\r\n}\r\n\r\n// Helper to safely get from localStorage\r\nconst getInitialToken = (): string | null => {\r\n  if (typeof window === 'undefined') return null;\r\n  try {\r\n    return localStorage.getItem('access_token');\r\n  } catch {\r\n    return null;\r\n  }\r\n};\r\n\r\n// Helper to safely get user from localStorage\r\nconst getInitialUser = (): User | null => {\r\n  if (typeof window === 'undefined') return null;\r\n  try {\r\n    const userStr = localStorage.getItem('user');\r\n    if (userStr) {\r\n      return JSON.parse(userStr);\r\n    }\r\n  } catch {\r\n    return null;\r\n  }\r\n  return null;\r\n};\r\n\r\nconst initialState: AuthState = {\r\n  user: getInitialUser(),\r\n  token: getInitialToken(),\r\n  isAuthenticated: !!getInitialToken(),\r\n  isLoading: false,\r\n  error: null,\r\n};\r\n\r\n// Async thunks\r\nexport const login = createAsyncThunk(\r\n  'auth/login',\r\n  async ({ email, password }: { email: string; password: string }, { rejectWithValue }) => {\r\n    try {\r\n      // Step 1: Login and get token\r\n      const data = await apiClient.login(email, password);\r\n      \r\n      if (!data.access_token) {\r\n        return rejectWithValue('No access token received from server');\r\n      }\r\n      \r\n      // Step 2: Set token in API client and localStorage\r\n      apiClient.setToken(data.access_token);\r\n      \r\n      // Step 3: Use user from login response (it already has all the data we need)\r\n      // The login response includes the user object with is_superuser and role_name\r\n      // IMPORTANT: Always use the user from login response, don't call getCurrentUser()\r\n      if (data.user) {\r\n        // Normalize user data - ensure is_superuser is boolean\r\n        const user = { ...data.user }; // Create a copy to avoid mutating the original\r\n        \r\n        // Ensure is_superuser is a boolean\r\n        if (typeof user.is_superuser !== 'boolean') {\r\n          // Infer from role_name if available\r\n          user.is_superuser = user.role_name === 'super_admin' || \r\n                             user.role_name === 'admin' || \r\n                             user.is_superuser === true ||\r\n                             user.is_superuser === 'true' ||\r\n                             String(user.is_superuser).toLowerCase() === 'true' ||\r\n                             false;\r\n        }\r\n        \r\n        // Ensure role_name is set\r\n        if (!user.role_name && user.is_superuser) {\r\n          user.role_name = 'super_admin';\r\n        }\r\n        \r\n        console.log('[Auth] Login response user (BEFORE normalization):', data.user);\r\n        console.log('[Auth] Login response user (AFTER normalization):', {\r\n          email: user.email,\r\n          is_superuser: user.is_superuser,\r\n          role_name: user.role_name,\r\n          full_user: user\r\n        });\r\n        \r\n        return { token: data.access_token, user };\r\n      }\r\n      \r\n      // This should never happen if backend is working correctly\r\n      console.error('[Auth] Login response missing user object!', data);\r\n      throw new Error('Login response missing user object');\r\n    } catch (error: any) {\r\n      const errorMessage = error.response?.data?.detail || error.message || 'Login failed';\r\n      return rejectWithValue(errorMessage);\r\n    }\r\n  }\r\n);\r\n\r\nexport const logout = createAsyncThunk('auth/logout', async () => {\r\n  await apiClient.logout();\r\n});\r\n\r\nexport const getCurrentUser = createAsyncThunk('auth/getCurrentUser', async (_, { rejectWithValue }) => {\r\n  try {\r\n    const user = await apiClient.getCurrentUser();\r\n    console.log('[Auth] getCurrentUser RAW response:', user);\r\n    \r\n    // Normalize user data - ensure is_superuser is boolean\r\n    if (user) {\r\n      // Ensure is_superuser is a boolean\r\n      if (typeof user.is_superuser !== 'boolean') {\r\n        // Infer from role_name if available\r\n        user.is_superuser = user.role_name === 'super_admin' || \r\n                           user.role_name === 'admin' || \r\n                           user.is_superuser === true ||\r\n                           user.is_superuser === 'true' ||\r\n                           String(user.is_superuser).toLowerCase() === 'true' ||\r\n                           false;\r\n      }\r\n      \r\n      // Ensure role_name is set\r\n      if (!user.role_name && user.is_superuser) {\r\n        user.role_name = 'super_admin';\r\n      }\r\n      \r\n      console.log('[Auth] getCurrentUser NORMALIZED response:', {\r\n        email: user.email,\r\n        is_superuser: user.is_superuser,\r\n        role_name: user.role_name,\r\n        full_user: user\r\n      });\r\n    }\r\n    \r\n    if (typeof window !== 'undefined' && user) {\r\n      localStorage.setItem('user', JSON.stringify(user));\r\n    }\r\n    return user;\r\n  } catch (error: any) {\r\n    console.error('[Auth] Failed to fetch current user:', error);\r\n    // Don't clear auth state on error - keep cached user if available\r\n    // Only clear if it's an authentication error\r\n    const isAuthError = error?.response?.status === 401 || error?.response?.status === 403;\r\n    if (isAuthError && typeof window !== 'undefined') {\r\n      localStorage.removeItem('user');\r\n      localStorage.removeItem('access_token');\r\n    }\r\n    return rejectWithValue(error.response?.data?.detail || 'Failed to fetch user info');\r\n  }\r\n});\r\n\r\nexport const createUser = createAsyncThunk(\r\n  'auth/createUser',\r\n  async (userData: { full_name: string; email: string; password: string }, { rejectWithValue }) => {\r\n    try {\r\n      const user = await apiClient.createUser(userData);\r\n      return user;\r\n    } catch (error: any) {\r\n      return rejectWithValue(error.response?.data?.detail || 'Failed to create account');\r\n    }\r\n  }\r\n);\r\n\r\nconst authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState,\r\n  reducers: {\r\n    clearError: (state) => {\r\n      state.error = null;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      // Login\r\n      .addCase(login.pending, (state) => {\r\n        state.isLoading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(login.fulfilled, (state, action) => {\r\n        state.isLoading = false;\r\n        state.token = action.payload.token;\r\n        \r\n        // Normalize user data - ensure is_superuser is boolean\r\n        const user = action.payload.user;\r\n        if (user) {\r\n          // Ensure is_superuser is a boolean\r\n          if (typeof user.is_superuser !== 'boolean') {\r\n            // Infer from role_name if available\r\n            user.is_superuser = user.role_name === 'super_admin' || \r\n                               user.role_name === 'admin' || \r\n                               user.is_superuser === true ||\r\n                               user.is_superuser === 'true' ||\r\n                               false;\r\n          }\r\n          \r\n          // Ensure role_name is set\r\n          if (!user.role_name && user.is_superuser) {\r\n            user.role_name = 'super_admin';\r\n          }\r\n          \r\n          // Log for debugging\r\n          console.log('[Auth] Setting user after login:', {\r\n            email: user.email,\r\n            is_superuser: user.is_superuser,\r\n            role_name: user.role_name,\r\n            full_user: user\r\n          });\r\n          \r\n          state.user = user;\r\n        } else {\r\n          state.user = null;\r\n        }\r\n        \r\n        state.isAuthenticated = true;\r\n        state.error = null;\r\n        \r\n        if (typeof window !== 'undefined' && user) {\r\n          localStorage.setItem('user', JSON.stringify(user));\r\n        }\r\n      })\r\n      .addCase(login.rejected, (state, action) => {\r\n        state.isLoading = false;\r\n        state.error = action.payload as string;\r\n      })\r\n      // Logout\r\n      .addCase(logout.fulfilled, (state) => {\r\n        state.user = null;\r\n        state.token = null;\r\n        state.isAuthenticated = false;\r\n        if (typeof window !== 'undefined') {\r\n          localStorage.removeItem('user');\r\n        }\r\n      })\r\n      // Get current user\r\n      .addCase(getCurrentUser.fulfilled, (state, action) => {\r\n        const userData = action.payload;\r\n        // Ensure is_superuser is properly set\r\n        if (userData && typeof userData.is_superuser === 'boolean') {\r\n          state.user = userData;\r\n        } else {\r\n          // If is_superuser is missing or invalid, set it to false and log warning\r\n          console.warn('[Auth] User data missing is_superuser, setting to false:', userData);\r\n          state.user = userData ? { ...userData, is_superuser: false } : null;\r\n        }\r\n        state.isAuthenticated = true;\r\n        if (typeof window !== 'undefined' && userData) {\r\n          localStorage.setItem('user', JSON.stringify(state.user));\r\n        }\r\n      })\r\n      .addCase(getCurrentUser.rejected, (state, action) => {\r\n        // Don't clear user data on error - keep cached user if available\r\n        // Only clear if it's an authentication error\r\n        const error = action.payload as any;\r\n        const isAuthError = error?.response?.status === 401 || error?.response?.status === 403;\r\n        \r\n        if (isAuthError) {\r\n          // Authentication error - clear everything\r\n          state.user = null;\r\n          state.isAuthenticated = false;\r\n          state.token = null;\r\n          if (typeof window !== 'undefined') {\r\n            localStorage.removeItem('user');\r\n            localStorage.removeItem('access_token');\r\n          }\r\n        } else {\r\n          // Other errors (network, server) - keep cached user data\r\n          console.warn('[Auth] getCurrentUser failed but keeping cached user data:', error);\r\n          // Don't clear state - keep existing user data\r\n        }\r\n      })\r\n      // Create user\r\n      .addCase(createUser.pending, (state) => {\r\n        state.isLoading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(createUser.fulfilled, (state) => {\r\n        state.isLoading = false;\r\n        // User created successfully, redirect to login\r\n      })\r\n      .addCase(createUser.rejected, (state, action) => {\r\n        state.isLoading = false;\r\n        state.error = action.payload as string;\r\n      });\r\n  },\r\n});\r\n\r\nexport const { clearError } = authSlice.actions;\r\nexport default authSlice.reducer;\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1124, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Saroj/Desktop/cdcteam-feature-as400integration/cdcteam-feature-as400-integration/seg-cdc-application/frontend/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst DropdownMenu = DropdownMenuPrimitive.Root\r\n\r\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\r\n\r\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\r\n\r\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\r\n\r\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\r\n\r\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\r\n\r\nconst DropdownMenuSubTrigger = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\r\n    inset?: boolean\r\n  }\r\n>(({ className, inset, children, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.SubTrigger\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-surface-hover data-[state=open]:bg-surface-hover\",\r\n      inset && \"pl-8\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    {children}\r\n    <span className=\"ml-auto h-4 w-4\">â€º</span>\r\n  </DropdownMenuPrimitive.SubTrigger>\r\n))\r\nDropdownMenuSubTrigger.displayName = DropdownMenuPrimitive.SubTrigger.displayName\r\n\r\nconst DropdownMenuSubContent = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\r\n>(({ className, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.SubContent\r\n    ref={ref}\r\n    className={cn(\r\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border border-border bg-surface p-1 text-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuSubContent.displayName = DropdownMenuPrimitive.SubContent.displayName\r\n\r\nconst DropdownMenuContent = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\r\n>(({ className, sideOffset = 4, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Portal>\r\n    <DropdownMenuPrimitive.Content\r\n      ref={ref}\r\n      sideOffset={sideOffset}\r\n      className={cn(\r\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border border-border bg-surface p-1 text-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  </DropdownMenuPrimitive.Portal>\r\n))\r\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\r\n\r\nconst DropdownMenuItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\r\n    inset?: boolean\r\n  }\r\n>(({ className, inset, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Item\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-surface-hover focus:text-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      inset && \"pl-8\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\r\n\r\nconst DropdownMenuCheckboxItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\r\n>(({ className, children, checked, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.CheckboxItem\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-surface-hover focus:text-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      className\r\n    )}\r\n    checked={checked}\r\n    {...props}\r\n  >\r\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n      <DropdownMenuPrimitive.ItemIndicator>\r\n        <span className=\"h-2 w-2 rounded-full bg-primary\" />\r\n      </DropdownMenuPrimitive.ItemIndicator>\r\n    </span>\r\n    {children}\r\n  </DropdownMenuPrimitive.CheckboxItem>\r\n))\r\nDropdownMenuCheckboxItem.displayName = DropdownMenuPrimitive.CheckboxItem.displayName\r\n\r\nconst DropdownMenuRadioItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\r\n>(({ className, children, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.RadioItem\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-surface-hover focus:text-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n      <DropdownMenuPrimitive.ItemIndicator>\r\n        <span className=\"h-2 w-2 rounded-full bg-primary\" />\r\n      </DropdownMenuPrimitive.ItemIndicator>\r\n    </span>\r\n    {children}\r\n  </DropdownMenuPrimitive.RadioItem>\r\n))\r\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\r\n\r\nconst DropdownMenuLabel = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\r\n    inset?: boolean\r\n  }\r\n>(({ className, inset, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Label\r\n    ref={ref}\r\n    className={cn(\"px-2 py-1.5 text-sm font-semibold\", inset && \"pl-8\", className)}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\r\n\r\nconst DropdownMenuSeparator = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\r\n>(({ className, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Separator\r\n    ref={ref}\r\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\r\n\r\nconst DropdownMenuShortcut = ({ className, ...props }: React.HTMLAttributes<HTMLSpanElement>) => {\r\n  return <span className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)} {...props} />\r\n}\r\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\r\n\r\nexport {\r\n  DropdownMenu,\r\n  DropdownMenuTrigger,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuCheckboxItem,\r\n  DropdownMenuRadioItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuShortcut,\r\n  DropdownMenuGroup,\r\n  DropdownMenuPortal,\r\n  DropdownMenuSub,\r\n  DropdownMenuSubContent,\r\n  DropdownMenuSubTrigger,\r\n  DropdownMenuRadioGroup,\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1332, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Saroj/Desktop/cdcteam-feature-as400integration/cdcteam-feature-as400-integration/seg-cdc-application/frontend/components/layout/top-nav.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport { User, Bell, Settings, Moon, Sun, LogOut } from \"lucide-react\"\r\nimport { useTheme } from \"@/contexts/theme-context\"\r\nimport { useAppDispatch, useAppSelector } from \"@/lib/store/hooks\"\r\nimport { logout } from \"@/lib/store/slices/authSlice\"\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\"\r\n\r\nexport function TopNav() {\r\n  const { theme, toggleTheme } = useTheme()\r\n  const router = useRouter()\r\n  const dispatch = useAppDispatch()\r\n  const { user } = useAppSelector((state) => state.auth)\r\n  const { unreadCount } = useAppSelector((state) => state.alerts)\r\n  const [mounted, setMounted] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setMounted(true)\r\n  }, [])\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await dispatch(logout())\r\n      router.push(\"/auth/login\")\r\n    } catch (error) {\r\n      console.error(\"Logout error:\", error)\r\n      // Still redirect even if logout fails\r\n      router.push(\"/auth/login\")\r\n    }\r\n  }\r\n\r\n  // Safety check for user data\r\n  const userName = user?.full_name || \"User\"\r\n  const userEmail = user?.email || \"\"\r\n\r\n  return (\r\n    <div className=\"h-16 border-b border-border bg-sidebar flex items-center justify-between px-6\">\r\n      <div>\r\n        <h2 className=\"text-xl font-semibold text-foreground\">Change Data Capture Platform</h2>\r\n        <p className=\"text-sm text-foreground-muted\">Real-time Replication & Monitoring</p>\r\n      </div>\r\n\r\n      <div className=\"flex items-center gap-4\">\r\n        <button\r\n          onClick={() => router.push(\"/errors\")}\r\n          className=\"relative p-2 hover:bg-surface-hover rounded-lg transition-colors hover:text-primary\"\r\n          aria-label=\"Notifications\"\r\n        >\r\n          <Bell className=\"w-5 h-5 text-foreground-muted hover:text-primary transition-colors\" />\r\n          {mounted && unreadCount > 0 && (\r\n            <span className=\"absolute top-0 right-0 w-4 h-4 bg-error text-white text-xs rounded-full flex items-center justify-center\">\r\n              {unreadCount > 9 ? '9+' : unreadCount}\r\n            </span>\r\n          )}\r\n        </button>\r\n        <button className=\"p-2 hover:bg-surface-hover rounded-lg transition-colors hover:text-primary\" aria-label=\"Settings\">\r\n          <Settings className=\"w-5 h-5 text-foreground-muted hover:text-primary transition-colors\" />\r\n        </button>\r\n        <button\r\n          onClick={toggleTheme}\r\n          className=\"p-2 hover:bg-surface-hover rounded-lg transition-colors hover:text-primary\"\r\n          aria-label=\"Toggle theme\"\r\n          suppressHydrationWarning\r\n        >\r\n          <Sun className={`w-5 h-5 text-foreground-muted ${mounted && theme === \"dark\" ? \"block\" : \"hidden\"}`} />\r\n          <Moon className={`w-5 h-5 text-foreground-muted ${mounted && theme === \"light\" ? \"block\" : \"hidden\"}`} />\r\n          {!mounted && <Moon className=\"w-5 h-5 text-foreground-muted\" />}\r\n        </button>\r\n        \r\n        {/* User Menu with Logout - Always render, but disable interactions until mounted */}\r\n        <div suppressHydrationWarning>\r\n          {mounted ? (\r\n            <DropdownMenu>\r\n              <DropdownMenuTrigger asChild>\r\n                <button className=\"p-2 hover:bg-surface-hover rounded-lg transition-colors hover:text-primary\" aria-label=\"User menu\">\r\n                  <User className=\"w-5 h-5 text-foreground-muted hover:text-primary transition-colors\" />\r\n                </button>\r\n              </DropdownMenuTrigger>\r\n              <DropdownMenuContent align=\"end\" className=\"bg-surface border-border\">\r\n                <DropdownMenuLabel>\r\n                  <div className=\"flex flex-col space-y-1\">\r\n                    <p className=\"text-sm font-medium text-foreground\">{userName}</p>\r\n                    {userEmail && <p className=\"text-xs text-foreground-muted\">{userEmail}</p>}\r\n                  </div>\r\n                </DropdownMenuLabel>\r\n                <DropdownMenuSeparator />\r\n                <DropdownMenuItem onClick={() => router.push(\"/settings\")} className=\"cursor-pointer\">\r\n                  <Settings className=\"w-4 h-4 mr-2\" />\r\n                  Settings\r\n                </DropdownMenuItem>\r\n                <DropdownMenuSeparator />\r\n                <DropdownMenuItem onClick={handleLogout} className=\"cursor-pointer text-error focus:text-error\">\r\n                  <LogOut className=\"w-4 h-4 mr-2\" />\r\n                  Logout\r\n                </DropdownMenuItem>\r\n              </DropdownMenuContent>\r\n            </DropdownMenu>\r\n          ) : (\r\n            <button className=\"p-2 hover:bg-surface-hover rounded-lg transition-colors hover:text-primary\" aria-label=\"User menu\" disabled>\r\n              <User className=\"w-5 h-5 text-foreground-muted hover:text-primary transition-colors\" />\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1641, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Saroj/Desktop/cdcteam-feature-as400integration/cdcteam-feature-as400-integration/seg-cdc-application/frontend/lib/store/slices/alertsSlice.ts"],"sourcesContent":["/**\r\n * Alerts and Errors Redux slice for real-time error tracking\r\n */\r\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nexport interface Alert {\r\n  id: string;\r\n  type: 'error' | 'warning' | 'critical' | 'info';\r\n  source: 'connection' | 'pipeline' | 'replication' | 'system';\r\n  sourceId?: string | number;\r\n  sourceName?: string;\r\n  message: string;\r\n  details?: string;\r\n  timestamp: string;\r\n  status: 'unresolved' | 'acknowledged' | 'resolved';\r\n  severity: 'low' | 'medium' | 'high' | 'critical';\r\n  table?: string;\r\n  rowsAffected?: number;\r\n}\r\n\r\ninterface AlertsState {\r\n  alerts: Alert[];\r\n  unreadCount: number;\r\n  lastNotificationTime: string | null;\r\n}\r\n\r\nconst initialState: AlertsState = {\r\n  alerts: [],\r\n  unreadCount: 0,\r\n  lastNotificationTime: null,\r\n};\r\n\r\nconst alertsSlice = createSlice({\r\n  name: 'alerts',\r\n  initialState,\r\n  reducers: {\r\n    addAlert: (state, action: PayloadAction<Alert>) => {\r\n      // Check if alert already exists (prevent duplicates)\r\n      const exists = state.alerts.some(a => a.id === action.payload.id);\r\n      if (!exists) {\r\n        state.alerts.unshift(action.payload); // Add to beginning\r\n        if (action.payload.status === 'unresolved') {\r\n          state.unreadCount++;\r\n        }\r\n        // Keep only last 1000 alerts\r\n        if (state.alerts.length > 1000) {\r\n          state.alerts = state.alerts.slice(0, 1000);\r\n        }\r\n      }\r\n    },\r\n    addAlerts: (state, action: PayloadAction<Alert[]>) => {\r\n      action.payload.forEach(alert => {\r\n        const exists = state.alerts.some(a => a.id === alert.id);\r\n        if (!exists) {\r\n          state.alerts.unshift(alert);\r\n          if (alert.status === 'unresolved') {\r\n            state.unreadCount++;\r\n          }\r\n        }\r\n      });\r\n      // Keep only last 1000 alerts\r\n      if (state.alerts.length > 1000) {\r\n        state.alerts = state.alerts.slice(0, 1000);\r\n      }\r\n    },\r\n    updateAlertStatus: (state, action: PayloadAction<{ id: string; status: Alert['status'] }>) => {\r\n      const alert = state.alerts.find(a => a.id === action.payload.id);\r\n      if (alert) {\r\n        const wasUnresolved = alert.status === 'unresolved';\r\n        alert.status = action.payload.status;\r\n        if (wasUnresolved && action.payload.status !== 'unresolved') {\r\n          state.unreadCount = Math.max(0, state.unreadCount - 1);\r\n        } else if (!wasUnresolved && action.payload.status === 'unresolved') {\r\n          state.unreadCount++;\r\n        }\r\n      }\r\n    },\r\n    markAllAsRead: (state) => {\r\n      state.unreadCount = 0;\r\n      state.lastNotificationTime = new Date().toISOString();\r\n    },\r\n    clearAlerts: (state) => {\r\n      state.alerts = [];\r\n      state.unreadCount = 0;\r\n    },\r\n    removeAlert: (state, action: PayloadAction<string>) => {\r\n      const alert = state.alerts.find(a => a.id === action.payload);\r\n      if (alert && alert.status === 'unresolved') {\r\n        state.unreadCount = Math.max(0, state.unreadCount - 1);\r\n      }\r\n      state.alerts = state.alerts.filter(a => a.id !== action.payload);\r\n    },\r\n  },\r\n});\r\n\r\nexport const { addAlert, addAlerts, updateAlertStatus, markAllAsRead, clearAlerts, removeAlert } = alertsSlice.actions;\r\nexport default alertsSlice.reducer;\r\n\r\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;;;;;;;;;;AACD;;AAuBA,MAAM,eAA4B;IAChC,QAAQ,EAAE;IACV,aAAa;IACb,sBAAsB;AACxB;AAEA,MAAM,cAAc,IAAA,0MAAW,EAAC;IAC9B,MAAM;IACN;IACA,UAAU;QACR,UAAU,CAAC,OAAO;YAChB,qDAAqD;YACrD,MAAM,SAAS,MAAM,MAAM,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,OAAO,OAAO,CAAC,EAAE;YAChE,IAAI,CAAC,QAAQ;gBACX,MAAM,MAAM,CAAC,OAAO,CAAC,OAAO,OAAO,GAAG,mBAAmB;gBACzD,IAAI,OAAO,OAAO,CAAC,MAAM,KAAK,cAAc;oBAC1C,MAAM,WAAW;gBACnB;gBACA,6BAA6B;gBAC7B,IAAI,MAAM,MAAM,CAAC,MAAM,GAAG,MAAM;oBAC9B,MAAM,MAAM,GAAG,MAAM,MAAM,CAAC,KAAK,CAAC,GAAG;gBACvC;YACF;QACF;QACA,WAAW,CAAC,OAAO;YACjB,OAAO,OAAO,CAAC,OAAO,CAAC,CAAA;gBACrB,MAAM,SAAS,MAAM,MAAM,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,MAAM,EAAE;gBACvD,IAAI,CAAC,QAAQ;oBACX,MAAM,MAAM,CAAC,OAAO,CAAC;oBACrB,IAAI,MAAM,MAAM,KAAK,cAAc;wBACjC,MAAM,WAAW;oBACnB;gBACF;YACF;YACA,6BAA6B;YAC7B,IAAI,MAAM,MAAM,CAAC,MAAM,GAAG,MAAM;gBAC9B,MAAM,MAAM,GAAG,MAAM,MAAM,CAAC,KAAK,CAAC,GAAG;YACvC;QACF;QACA,mBAAmB,CAAC,OAAO;YACzB,MAAM,QAAQ,MAAM,MAAM,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,OAAO,OAAO,CAAC,EAAE;YAC/D,IAAI,OAAO;gBACT,MAAM,gBAAgB,MAAM,MAAM,KAAK;gBACvC,MAAM,MAAM,GAAG,OAAO,OAAO,CAAC,MAAM;gBACpC,IAAI,iBAAiB,OAAO,OAAO,CAAC,MAAM,KAAK,cAAc;oBAC3D,MAAM,WAAW,GAAG,KAAK,GAAG,CAAC,GAAG,MAAM,WAAW,GAAG;gBACtD,OAAO,IAAI,CAAC,iBAAiB,OAAO,OAAO,CAAC,MAAM,KAAK,cAAc;oBACnE,MAAM,WAAW;gBACnB;YACF;QACF;QACA,eAAe,CAAC;YACd,MAAM,WAAW,GAAG;YACpB,MAAM,oBAAoB,GAAG,IAAI,OAAO,WAAW;QACrD;QACA,aAAa,CAAC;YACZ,MAAM,MAAM,GAAG,EAAE;YACjB,MAAM,WAAW,GAAG;QACtB;QACA,aAAa,CAAC,OAAO;YACnB,MAAM,QAAQ,MAAM,MAAM,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,OAAO,OAAO;YAC5D,IAAI,SAAS,MAAM,MAAM,KAAK,cAAc;gBAC1C,MAAM,WAAW,GAAG,KAAK,GAAG,CAAC,GAAG,MAAM,WAAW,GAAG;YACtD;YACA,MAAM,MAAM,GAAG,MAAM,MAAM,CAAC,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,OAAO,OAAO;QACjE;IACF;AACF;AAEO,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,iBAAiB,EAAE,aAAa,EAAE,WAAW,EAAE,WAAW,EAAE,GAAG,YAAY,OAAO;uCACvG,YAAY,OAAO"}},
    {"offset": {"line": 1734, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Saroj/Desktop/cdcteam-feature-as400integration/cdcteam-feature-as400-integration/seg-cdc-application/frontend/components/alerts/alert-sync.tsx"],"sourcesContent":["/**\r\n * Component to sync errors from connections, pipelines, and events to alerts\r\n */\r\n\"use client\"\r\n\r\nimport { useEffect } from \"react\"\r\nimport { useAppSelector, useAppDispatch } from \"@/lib/store/hooks\"\r\nimport { addAlert, addAlerts } from \"@/lib/store/slices/alertsSlice\"\r\nimport { format } from \"date-fns\"\r\n\r\nexport function AlertSync() {\r\n  const dispatch = useAppDispatch()\r\n  const { connections, error: connectionError } = useAppSelector((state) => state.connections)\r\n  const { pipelines, error: pipelineError } = useAppSelector((state) => state.pipelines)\r\n  const { events } = useAppSelector((state) => state.monitoring)\r\n\r\n  // Sync connection errors\r\n  useEffect(() => {\r\n    if (connectionError) {\r\n      dispatch(addAlert({\r\n        id: `conn_error_${Date.now()}`,\r\n        type: 'error',\r\n        source: 'connection',\r\n        message: connectionError,\r\n        timestamp: new Date().toISOString(),\r\n        status: 'unresolved',\r\n        severity: 'high',\r\n      }))\r\n    }\r\n  }, [connectionError, dispatch])\r\n\r\n  // Sync pipeline errors\r\n  useEffect(() => {\r\n    if (pipelineError) {\r\n      dispatch(addAlert({\r\n        id: `pipeline_error_${Date.now()}`,\r\n        type: 'error',\r\n        source: 'pipeline',\r\n        message: pipelineError,\r\n        timestamp: new Date().toISOString(),\r\n        status: 'unresolved',\r\n        severity: 'high',\r\n      }))\r\n    }\r\n  }, [pipelineError, dispatch])\r\n\r\n  // Sync connection test failures\r\n  useEffect(() => {\r\n    const connectionsArray = Array.isArray(connections) ? connections : []\r\n    connectionsArray.forEach(conn => {\r\n      if (conn.last_test_status === 'failed' || (!conn.is_active && conn.last_tested_at)) {\r\n        dispatch(addAlert({\r\n          id: `conn_test_${conn.id}_${conn.last_tested_at}`,\r\n          type: 'error',\r\n          source: 'connection',\r\n          sourceId: conn.id,\r\n          sourceName: conn.name,\r\n          message: `Connection test failed: ${conn.name}`,\r\n          details: conn.last_test_status || 'Connection inactive',\r\n          timestamp: conn.last_tested_at || conn.updated_at || conn.created_at,\r\n          status: 'unresolved',\r\n          severity: 'high',\r\n        }))\r\n      }\r\n    })\r\n  }, [connections, dispatch])\r\n\r\n  // Sync pipeline errors\r\n  useEffect(() => {\r\n    const pipelinesArray = Array.isArray(pipelines) ? pipelines : []\r\n    pipelinesArray.forEach(pipeline => {\r\n      if (pipeline.status === 'error') {\r\n        dispatch(addAlert({\r\n          id: `pipeline_status_${pipeline.id}_${pipeline.updated_at || pipeline.created_at}`,\r\n          type: 'error',\r\n          source: 'pipeline',\r\n          sourceId: pipeline.id,\r\n          sourceName: pipeline.name,\r\n          message: `Pipeline error: ${pipeline.name}`,\r\n          details: `Pipeline status: ${pipeline.status}`,\r\n          timestamp: pipeline.updated_at || pipeline.created_at,\r\n          status: 'unresolved',\r\n          severity: 'critical',\r\n        }))\r\n      }\r\n    })\r\n  }, [pipelines, dispatch])\r\n\r\n  // Sync replication event errors\r\n  useEffect(() => {\r\n    const eventsArray = Array.isArray(events) ? events : []\r\n    const failedEvents = eventsArray.filter(e => \r\n      e.status === 'failed' || e.status === 'error'\r\n    ).slice(0, 100) // Limit to recent 100 failed events\r\n\r\n    if (failedEvents.length > 0) {\r\n      const alerts = failedEvents.map(event => ({\r\n        id: `replication_${event.id}`,\r\n        type: 'error' as const,\r\n        source: 'replication' as const,\r\n        sourceId: event.pipeline_id,\r\n        message: `Replication failed: ${event.event_type} on ${event.table_name}`,\r\n        details: `Status: ${event.status}`,\r\n        timestamp: event.created_at || new Date().toISOString(),\r\n        status: 'unresolved' as const,\r\n        severity: (event.latency_ms && event.latency_ms > 10000 ? 'critical' : 'high') as 'critical' | 'high',\r\n        table: event.table_name,\r\n      }))\r\n      dispatch(addAlerts(alerts))\r\n    }\r\n  }, [events, dispatch])\r\n\r\n  return null // This is a sync component, no UI\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1863, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Saroj/Desktop/cdcteam-feature-as400integration/cdcteam-feature-as400-integration/seg-cdc-application/frontend/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\r\nimport { Slot } from '@radix-ui/react-slot'\r\nimport { cva, type VariantProps } from 'class-variance-authority'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\r\n        destructive:\r\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\r\n        outline:\r\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground active:bg-accent/90 active:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\r\n        secondary:\r\n          'bg-secondary text-secondary-foreground hover:bg-secondary/90 active:bg-secondary/80',\r\n        ghost:\r\n          'hover:bg-accent hover:text-accent-foreground active:bg-accent/90 active:text-accent-foreground dark:hover:bg-accent/50',\r\n        link: 'text-primary underline-offset-4 hover:underline',\r\n      },\r\n      size: {\r\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\r\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\r\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\r\n        icon: 'size-9',\r\n        'icon-sm': 'size-8',\r\n        'icon-lg': 'size-10',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n      size: 'default',\r\n    },\r\n  },\r\n)\r\n\r\nfunction Button({\r\n  className,\r\n  variant,\r\n  size,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<'button'> &\r\n  VariantProps<typeof buttonVariants> & {\r\n    asChild?: boolean\r\n  }) {\r\n  const Comp = asChild ? Slot : 'button'\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"button\"\r\n      className={cn(buttonVariants({ variant, size, className }))}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 1922, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Saroj/Desktop/cdcteam-feature-as400integration/cdcteam-feature-as400-integration/seg-cdc-application/frontend/components/alerts/top-alert-bar.tsx"],"sourcesContent":["/**\r\n * Top alert bar component to show critical alerts at the top of the page\r\n */\r\n\"use client\"\r\n\r\nimport { useState, useEffect, useMemo, useCallback } from \"react\"\r\nimport { useAppSelector, useAppDispatch } from \"@/lib/store/hooks\"\r\nimport { updateAlertStatus, markAllAsRead } from \"@/lib/store/slices/alertsSlice\"\r\nimport { X, AlertTriangle, AlertCircle, Info, CheckCircle } from \"lucide-react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { formatDistanceToNow } from \"date-fns\"\r\n\r\nexport function TopAlertBar() {\r\n  const dispatch = useAppDispatch()\r\n  const { alerts, unreadCount } = useAppSelector((state) => state.alerts)\r\n  const [dismissedAlerts, setDismissedAlerts] = useState<Set<string>>(new Set())\r\n\r\n  // Get critical/unresolved alerts - memoized to prevent unnecessary recalculations\r\n  const criticalAlerts = useMemo(() => {\r\n    return alerts\r\n      .filter(a => \r\n        a.status === 'unresolved' && \r\n        (a.severity === 'critical' || a.severity === 'high') &&\r\n        !dismissedAlerts.has(a.id)\r\n      )\r\n      .slice(0, 3) // Show max 3 alerts\r\n  }, [alerts, dismissedAlerts])\r\n\r\n  // Request notification permission\r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined' && 'Notification' in window && Notification.permission === 'default') {\r\n      Notification.requestPermission()\r\n    }\r\n  }, [])\r\n\r\n  // Show browser notifications for new critical alerts\r\n  useEffect(() => {\r\n    if (criticalAlerts.length > 0 && typeof window !== 'undefined' && 'Notification' in window) {\r\n      const latestAlert = criticalAlerts[0]\r\n      if (Notification.permission === 'granted' && !dismissedAlerts.has(latestAlert.id)) {\r\n        new Notification('Critical Alert', {\r\n          body: `${latestAlert.sourceName || latestAlert.source}: ${latestAlert.message}`,\r\n          icon: '/icon-dark-32x32.png',\r\n          tag: latestAlert.id,\r\n        })\r\n      }\r\n    }\r\n  }, [criticalAlerts, dismissedAlerts])\r\n\r\n  // Memoize handlers to prevent infinite loops\r\n  const handleAcknowledge = useCallback((alertId: string) => {\r\n    dispatch(updateAlertStatus({ id: alertId, status: 'acknowledged' }))\r\n    setDismissedAlerts(prev => {\r\n      const newSet = new Set(prev)\r\n      newSet.add(alertId)\r\n      return newSet\r\n    })\r\n  }, [dispatch])\r\n\r\n  const handleDismiss = useCallback((alertId: string) => {\r\n    setDismissedAlerts(prev => {\r\n      const newSet = new Set(prev)\r\n      newSet.add(alertId)\r\n      return newSet\r\n    })\r\n  }, [])\r\n\r\n  if (criticalAlerts.length === 0) {\r\n    return null\r\n  }\r\n\r\n  const getAlertIcon = (type: string, severity: string) => {\r\n    if (severity === 'critical') {\r\n      return <AlertCircle className=\"w-5 h-5 text-destructive\" />\r\n    }\r\n    if (type === 'error' || severity === 'high') {\r\n      return <AlertTriangle className=\"w-5 h-5 text-error\" />\r\n    }\r\n    if (type === 'warning') {\r\n      return <AlertTriangle className=\"w-5 h-5 text-warning\" />\r\n    }\r\n    return <Info className=\"w-5 h-5 text-info\" />\r\n  }\r\n\r\n  return (\r\n    <div className=\"border-b border-border bg-surface\">\r\n      {criticalAlerts.map((alert) => (\r\n        <div\r\n          key={alert.id}\r\n          className={`px-6 py-3 flex items-center gap-4 ${\r\n            alert.severity === 'critical' ? 'bg-destructive/10 border-l-4 border-destructive' :\r\n            alert.severity === 'high' ? 'bg-error/10 border-l-4 border-error' :\r\n            'bg-warning/10 border-l-4 border-warning'\r\n          }`}\r\n        >\r\n          {getAlertIcon(alert.type, alert.severity)}\r\n          <div className=\"flex-1\">\r\n            <p className=\"text-sm font-semibold text-foreground\">\r\n              {alert.sourceName ? `${alert.sourceName}: ` : ''}{alert.message}\r\n            </p>\r\n            <p className=\"text-xs text-foreground-muted mt-0.5\">\r\n              {formatDistanceToNow(new Date(alert.timestamp), { addSuffix: true })}\r\n            </p>\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <Button\r\n              size=\"sm\"\r\n              variant=\"ghost\"\r\n              onClick={(e) => {\r\n                e.preventDefault()\r\n                e.stopPropagation()\r\n                handleAcknowledge(alert.id)\r\n              }}\r\n              className=\"text-xs h-7\"\r\n            >\r\n              Acknowledge\r\n            </Button>\r\n            <Button\r\n              size=\"sm\"\r\n              variant=\"ghost\"\r\n              onClick={(e) => {\r\n                e.preventDefault()\r\n                e.stopPropagation()\r\n                handleDismiss(alert.id)\r\n              }}\r\n              className=\"text-xs h-7 px-2\"\r\n            >\r\n              <X className=\"w-4 h-4\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      ))}\r\n      {unreadCount > criticalAlerts.length && (\r\n        <div className=\"px-6 py-2 bg-surface-hover text-center\">\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={() => dispatch(markAllAsRead())}\r\n            className=\"text-xs text-foreground-muted hover:text-foreground\"\r\n          >\r\n            {unreadCount - criticalAlerts.length} more alert{unreadCount - criticalAlerts.length !== 1 ? 's' : ''} - View all\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2153, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Saroj/Desktop/cdcteam-feature-as400integration/cdcteam-feature-as400-integration/seg-cdc-application/frontend/components/layout/root-layout-wrapper.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\nimport { usePathname } from \"next/navigation\"\r\nimport { Sidebar } from \"@/components/layout/sidebar\"\r\nimport { TopNav } from \"@/components/layout/top-nav\"\r\nimport { ThemeProvider } from \"@/contexts/theme-context\"\r\nimport { SidebarProvider } from \"@/contexts/sidebar-context\"\r\nimport { AlertSync } from \"@/components/alerts/alert-sync\"\r\nimport { TopAlertBar } from \"@/components/alerts/top-alert-bar\"\r\n\r\nexport function RootLayoutWrapper({ children }: { children: React.ReactNode }) {\r\n  const pathname = usePathname()\r\n  const isAuthPage = pathname?.startsWith(\"/auth\")\r\n\r\n  // Auth pages (login, signup) should not have dashboard layout\r\n  if (isAuthPage) {\r\n    return (\r\n      <ThemeProvider>\r\n        {children}\r\n      </ThemeProvider>\r\n    )\r\n  }\r\n\r\n  // Dashboard and other pages get the full layout with sidebar and top nav\r\n  return (\r\n    <ThemeProvider>\r\n      <SidebarProvider>\r\n        <div className=\"flex h-screen bg-sidebar\">\r\n          <Sidebar />\r\n\r\n          {/* Main content area */}\r\n          <div className=\"flex-1 flex flex-col overflow-hidden bg-sidebar\">\r\n            <AlertSync />\r\n            <TopNav />\r\n            <TopAlertBar />\r\n\r\n            {/* Page content */}\r\n            <main className=\"flex-1 overflow-y-auto bg-sidebar\">{children}</main>\r\n          </div>\r\n        </div>\r\n      </SidebarProvider>\r\n    </ThemeProvider>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;;;;;;;;;AAWO,SAAS,kBAAkB,EAAE,QAAQ,EAAiC;IAC3E,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,aAAa,UAAU,WAAW;IAExC,8DAA8D;IAC9D,IAAI,YAAY;QACd,qBACE,8OAAC,8IAAa;sBACX;;;;;;IAGP;IAEA,yEAAyE;IACzE,qBACE,8OAAC,8IAAa;kBACZ,cAAA,8OAAC,kJAAe;sBACd,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,2IAAO;;;;;kCAGR,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,mJAAS;;;;;0CACV,8OAAC,6IAAM;;;;;0CACP,8OAAC,2JAAW;;;;;0CAGZ,8OAAC;gCAAK,WAAU;0CAAqC;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMjE"}},
    {"offset": {"line": 2251, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Saroj/Desktop/cdcteam-feature-as400integration/cdcteam-feature-as400-integration/seg-cdc-application/frontend/lib/store/slices/connectionSlice.ts"],"sourcesContent":["/**\n * Connection Redux slice\n */\nimport { createSlice, createAsyncThunk, PayloadAction } from '@reduxjs/toolkit';\nimport { apiClient } from '@/lib/api/client';\n\ninterface Connection {\n  id: number;\n  name: string;\n  description?: string;\n  connection_type: string; // This is now database_type (postgresql, mysql, etc.) from backend\n  database_type?: string; // Explicit database_type field\n  role: 'source' | 'target';\n  host: string;\n  port: number;\n  database: string;\n  username: string;\n  ssl_enabled: boolean;\n  is_active: boolean;\n  last_tested_at?: string;\n  last_test_status?: string;\n  created_at: string;\n  updated_at?: string;\n}\n\ninterface ConnectionState {\n  connections: Connection[];\n  selectedConnection: Connection | null;\n  isLoading: boolean;\n  error: string | null;\n}\n\n// Utility to ensure error is always a string\nconst ensureStringError = (error: any): string => {\n  if (!error) return 'An error occurred';\n  if (typeof error === 'string') return error;\n  if (Array.isArray(error)) {\n    return error.map((err: any) => {\n      if (typeof err === 'string') return err;\n      const field = err.loc?.join('.') || 'field';\n      return `${field}: ${err.msg || err.message || 'Invalid value'}`;\n    }).join(', ');\n  }\n  if (typeof error === 'object') {\n    return error.message || error.msg || error.detail || JSON.stringify(error);\n  }\n  return String(error);\n};\n\nconst initialState: ConnectionState = {\n  connections: [],\n  selectedConnection: null,\n  isLoading: false,\n  error: null,\n};\n\n// Async thunks\nexport const fetchConnections = createAsyncThunk(\n  'connections/fetchAll',\n  async (_, { rejectWithValue }) => {\n    try {\n      return await apiClient.getConnections();\n    } catch (error: any) {\n      // Provide more helpful error messages for timeouts\n      if (error.isTimeout) {\n        return rejectWithValue('Request timeout: The server took too long to respond. This may indicate a database connection issue. Please check if PostgreSQL is running and the backend is accessible.');\n      }\n      if (error.isNetworkError) {\n        return rejectWithValue('Network error: Cannot connect to the backend server. Please ensure it is running on http://localhost:8000');\n      }\n      return rejectWithValue(error.message || 'Failed to fetch connections');\n    }\n  }\n);\n\nexport const fetchConnection = createAsyncThunk('connections/fetchOne', async (id: number) => {\n  return await apiClient.getConnection(id);\n});\n\n// Helper function to extract error message from FastAPI error response\nconst extractErrorMessage = (error: any): string => {\n  if (!error?.response?.data) {\n    return error?.message || 'An unexpected error occurred';\n  }\n  \n  const detail = error.response.data.detail;\n  \n  // If detail is a string, return it\n  if (typeof detail === 'string') {\n    return detail;\n  }\n  \n  // If detail is an array (validation errors), format them\n  if (Array.isArray(detail)) {\n    return detail.map((err: any) => {\n      const field = err.loc?.join('.') || 'field';\n      return `${field}: ${err.msg || 'Invalid value'}`;\n    }).join(', ');\n  }\n  \n  // If detail is an object, try to get message\n  if (typeof detail === 'object' && detail !== null) {\n    return detail.message || detail.msg || JSON.stringify(detail);\n  }\n  \n  return 'Failed to create connection';\n};\n\nexport const createConnection = createAsyncThunk(\n  'connections/create',\n  async (connectionData: any, { rejectWithValue }) => {\n    try {\n      return await apiClient.createConnection(connectionData);\n    } catch (error: any) {\n      return rejectWithValue(extractErrorMessage(error));\n    }\n  }\n);\n\nexport const updateConnection = createAsyncThunk(\n  'connections/update',\n  async ({ id, data }: { id: number; data: any }, { rejectWithValue }) => {\n    try {\n      return await apiClient.updateConnection(id, data);\n    } catch (error: any) {\n      return rejectWithValue(extractErrorMessage(error));\n    }\n  }\n);\n\nexport const deleteConnection = createAsyncThunk(\n  'connections/delete',\n  async (id: number, { rejectWithValue }) => {\n    try {\n      await apiClient.deleteConnection(id);\n      return id;\n    } catch (error: any) {\n      return rejectWithValue(extractErrorMessage(error));\n    }\n  }\n);\n\nexport const testConnection = createAsyncThunk(\n  'connections/test',\n  async (id: number, { rejectWithValue }) => {\n    try {\n      return await apiClient.testConnection(id);\n    } catch (error: any) {\n      // Handle timeout errors specifically\n      if (error.isTimeout || error.code === 'ECONNABORTED' || error.message?.includes('timeout')) {\n        return rejectWithValue('Connection test timed out. The database server may be unreachable or the connection is taking too long. Please check network connectivity and firewall settings.');\n      }\n      // Handle network errors\n      if (error.isNetworkError || error.code === 'ERR_NETWORK' || error.code === 'ECONNREFUSED') {\n        return rejectWithValue('Network error: Cannot connect to the backend server. Please ensure it is running on http://localhost:8000');\n      }\n      // Extract error message from backend response\n      return rejectWithValue(extractErrorMessage(error));\n    }\n  }\n);\n\nconst connectionSlice = createSlice({\n  name: 'connections',\n  initialState,\n  reducers: {\n    setSelectedConnection: (state, action: PayloadAction<Connection | null>) => {\n      state.selectedConnection = action.payload;\n    },\n    clearError: (state) => {\n      state.error = null;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchConnections.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(fetchConnections.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.connections = action.payload;\n      })\n      .addCase(fetchConnections.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = ensureStringError(action.payload || action.error.message || 'Failed to fetch connections');\n      })\n      .addCase(createConnection.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = ensureStringError(action.payload || 'Failed to create connection');\n      })\n      .addCase(updateConnection.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = ensureStringError(action.payload || 'Failed to update connection');\n      })\n      .addCase(deleteConnection.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = ensureStringError(action.payload || 'Failed to delete connection');\n      })\n      .addCase(testConnection.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(testConnection.fulfilled, (state, action) => {\n        state.isLoading = false;\n        // Update the connection's test status in the list\n        const connectionId = action.meta.arg;\n        // Convert to string for comparison (backend uses string UUIDs, frontend might use numbers)\n        const connectionIdStr = String(connectionId);\n        const index = state.connections.findIndex((c) => String(c.id) === connectionIdStr);\n        if (index !== -1) {\n          const result = action.payload;\n          // Determine status: check result.success first, then result.status\n          let testStatus = 'failed';\n          if (result.success === true || result.success === 'true') {\n            testStatus = 'success';\n          } else if (result.status === 'SUCCESS' || result.status === 'success') {\n            testStatus = 'success';\n          } else if (result.success === false || result.status === 'FAILED' || result.status === 'failed') {\n            testStatus = 'failed';\n          }\n          \n          console.log('[testConnection.fulfilled] Updating connection status:', {\n            connectionId,\n            connectionIdStr,\n            index,\n            result,\n            testStatus,\n            currentStatus: state.connections[index].last_test_status\n          });\n          \n          state.connections[index] = {\n            ...state.connections[index],\n            last_test_status: testStatus,\n            last_tested_at: result.tested_at || new Date().toISOString(),\n          };\n        } else {\n          console.warn('[testConnection.fulfilled] Connection not found in state:', {\n            connectionId,\n            connectionIdStr,\n            availableIds: state.connections.map(c => ({ id: c.id, idType: typeof c.id }))\n          });\n        }\n      })\n      .addCase(testConnection.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = ensureStringError(action.payload || 'Connection test failed');\n        // Update the connection's test status even on failure\n        const connectionId = action.meta.arg;\n        // Convert to string for comparison (backend uses string UUIDs, frontend might use numbers)\n        const connectionIdStr = String(connectionId);\n        const index = state.connections.findIndex((c) => String(c.id) === connectionIdStr);\n        if (index !== -1) {\n          state.connections[index] = {\n            ...state.connections[index],\n            last_test_status: 'failed',\n            last_tested_at: new Date().toISOString(),\n          };\n        }\n      })\n      .addCase(fetchConnection.fulfilled, (state, action) => {\n        state.selectedConnection = action.payload;\n      })\n      .addCase(createConnection.fulfilled, (state, action) => {\n        state.connections.push(action.payload);\n      })\n      .addCase(updateConnection.fulfilled, (state, action) => {\n        const index = state.connections.findIndex((c) => c.id === action.payload.id);\n        if (index !== -1) {\n          state.connections[index] = action.payload;\n        }\n        if (state.selectedConnection?.id === action.payload.id) {\n          state.selectedConnection = action.payload;\n        }\n      })\n      .addCase(deleteConnection.fulfilled, (state, action) => {\n        state.connections = state.connections.filter((c) => c.id !== action.payload);\n        if (state.selectedConnection?.id === action.payload) {\n          state.selectedConnection = null;\n        }\n      });\n  },\n});\n\nexport const { setSelectedConnection, clearError } = connectionSlice.actions;\nexport default connectionSlice.reducer;\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2492, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Saroj/Desktop/cdcteam-feature-as400integration/cdcteam-feature-as400-integration/seg-cdc-application/frontend/lib/store/slices/pipelineSlice.ts"],"sourcesContent":["/**\r\n * Pipeline Redux slice\r\n */\r\nimport { createSlice, createAsyncThunk, PayloadAction } from '@reduxjs/toolkit';\r\nimport { apiClient } from '@/lib/api/client';\r\n\r\ninterface Pipeline {\r\n  id: number;\r\n  name: string;\r\n  description?: string;\r\n  source_connection_id: number;\r\n  target_connection_id: number;\r\n  source_connection_uuid?: string;  // Actual UUID for connection lookup\r\n  target_connection_uuid?: string;  // Actual UUID for connection lookup\r\n  full_load_type: 'overwrite' | 'append' | 'merge';\r\n  cdc_enabled: boolean;\r\n  cdc_filters?: any[];\r\n  table_mappings: Array<{\r\n    source_schema?: string;\r\n    source_table: string;\r\n    target_schema?: string;\r\n    target_table: string;\r\n  }>;\r\n  airflow_dag_id?: string;\r\n  status: 'draft' | 'active' | 'paused' | 'error' | 'deleted';\r\n  created_at: string;\r\n  updated_at?: string;\r\n}\r\n\r\ninterface PipelineState {\r\n  pipelines: Pipeline[];\r\n  selectedPipeline: Pipeline | null;\r\n  isLoading: boolean;\r\n  error: string | null;\r\n}\r\n\r\nconst initialState: PipelineState = {\r\n  pipelines: [],\r\n  selectedPipeline: null,\r\n  isLoading: false,\r\n  error: null,\r\n};\r\n\r\n// Async thunks\r\nexport const fetchPipelines = createAsyncThunk(\r\n  'pipelines/fetchAll',\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      return await apiClient.getPipelines();\r\n    } catch (error: any) {\r\n      // Provide more helpful error messages for timeouts\r\n      if (error.isTimeout) {\r\n        return rejectWithValue('Request timeout: The server took too long to respond. This may indicate a database connection issue. Please check if PostgreSQL is running and the backend is accessible.');\r\n      }\r\n      if (error.isNetworkError) {\r\n        return rejectWithValue('Network error: Cannot connect to the backend server. Please ensure it is running on http://localhost:8000');\r\n      }\r\n      return rejectWithValue(error.message || 'Failed to fetch pipelines');\r\n    }\r\n  }\r\n);\r\n\r\nexport const fetchPipeline = createAsyncThunk('pipelines/fetchOne', async (id: number) => {\r\n  return await apiClient.getPipeline(id);\r\n});\r\n\r\nexport const createPipeline = createAsyncThunk(\r\n  'pipelines/create',\r\n  async (pipelineData: any, { rejectWithValue }) => {\r\n    try {\r\n      return await apiClient.createPipeline(pipelineData);\r\n    } catch (error: any) {\r\n      // Extract error message from various possible locations\r\n      let errorMessage = 'Failed to create pipeline';\r\n      \r\n      if (error.response?.data?.detail) {\r\n        errorMessage = error.response.data.detail;\r\n      } else if (error.response?.data?.message) {\r\n        errorMessage = error.response.data.message;\r\n      } else if (error.message) {\r\n        errorMessage = error.message;\r\n      } else if (typeof error === 'string') {\r\n        errorMessage = error;\r\n      }\r\n      \r\n      // Include full error info for debugging\r\n      const errorInfo = {\r\n        message: errorMessage,\r\n        status: error.response?.status,\r\n        data: error.response?.data,\r\n        code: error.code,\r\n        isTimeout: error.isTimeout,\r\n        isNetworkError: error.isNetworkError,\r\n      };\r\n      \r\n      console.error('[Redux] createPipeline error:', errorInfo);\r\n      return rejectWithValue(errorMessage);\r\n    }\r\n  }\r\n);\r\n\r\nexport const updatePipeline = createAsyncThunk(\r\n  'pipelines/update',\r\n  async ({ id, data }: { id: string | number; data: any }, { rejectWithValue }) => {\r\n    try {\r\n      return await apiClient.updatePipeline(String(id), data);\r\n    } catch (error: any) {\r\n      // Extract error message properly\r\n      let errorMessage = 'Failed to update pipeline';\r\n      \r\n      if (error?.response?.data?.detail) {\r\n        const detail = error.response.data.detail;\r\n        if (Array.isArray(detail)) {\r\n          // Pydantic validation errors\r\n          errorMessage = detail.map((err: any) => {\r\n            if (typeof err === 'object' && err.loc && err.msg) {\r\n              return `${err.loc.join('.')}: ${err.msg}`;\r\n            } else if (typeof err === 'object' && err.msg) {\r\n              return err.msg;\r\n            } else if (typeof err === 'string') {\r\n              return err;\r\n            } else {\r\n              return JSON.stringify(err);\r\n            }\r\n          }).join(', ');\r\n        } else if (typeof detail === 'string') {\r\n          errorMessage = detail;\r\n        } else {\r\n          errorMessage = JSON.stringify(detail);\r\n        }\r\n      } else if (error?.response?.data?.message) {\r\n        errorMessage = error.response.data.message;\r\n      } else if (error?.message) {\r\n        errorMessage = error.message;\r\n      }\r\n      \r\n      return rejectWithValue(errorMessage);\r\n    }\r\n  }\r\n);\r\n\r\nexport const deletePipeline = createAsyncThunk(\r\n  'pipelines/delete',\r\n  async (id: number, { rejectWithValue }) => {\r\n    try {\r\n      await apiClient.deletePipeline(id);\r\n      return id;\r\n    } catch (error: any) {\r\n      return rejectWithValue(error.response?.data?.detail || 'Failed to delete pipeline');\r\n    }\r\n  }\r\n);\r\n\r\nexport const triggerPipeline = createAsyncThunk(\r\n  'pipelines/trigger',\r\n  async ({ id, runType }: { id: string | number; runType?: string }, { rejectWithValue, dispatch }) => {\r\n    try {\r\n      const result = await apiClient.triggerPipeline(String(id), runType);\r\n      // Wait longer before refreshing to allow backend to fully update status\r\n      await new Promise(resolve => setTimeout(resolve, 2000));\r\n      // Refresh pipelines to get updated status\r\n      dispatch(fetchPipelines());\r\n      // Refresh again after a longer delay to ensure status is persisted\r\n      setTimeout(() => {\r\n        dispatch(fetchPipelines());\r\n      }, 4000);\r\n      return result;\r\n    } catch (error: any) {\r\n      // Extract detailed error message\r\n      let errorMessage = 'Failed to trigger pipeline'\r\n      \r\n      if (error?.response?.data?.detail) {\r\n        errorMessage = error.response.data.detail\r\n      } else if (error?.response?.data?.message) {\r\n        errorMessage = error.response.data.message\r\n      } else if (error?.message) {\r\n        errorMessage = error.message\r\n      } else if (typeof error === 'string') {\r\n        errorMessage = error\r\n      }\r\n      \r\n      // Remove redundant wrapping if present\r\n      if (errorMessage.includes(\"Failed to trigger pipeline\") && errorMessage.length > 25) {\r\n        // Keep the actual error, remove the wrapper\r\n        const parts = errorMessage.split(\"Failed to trigger pipeline\")\r\n        if (parts.length > 1) {\r\n          errorMessage = parts[parts.length - 1].trim()\r\n          if (errorMessage.startsWith(\":\")) {\r\n            errorMessage = errorMessage.substring(1).trim()\r\n          }\r\n        }\r\n      }\r\n      \r\n      // Remove HTTP error wrapper if present\r\n      if (errorMessage.includes(\"400 Client Error\") || errorMessage.includes(\"Bad Request\")) {\r\n        // Extract the actual error message\r\n        if (errorMessage.includes(\"for url:\")) {\r\n          const parts = errorMessage.split(\"for url:\")\r\n          if (parts.length > 0) {\r\n            errorMessage = parts[0].replace(\"400 Client Error:\", \"\").replace(\"Bad Request\", \"\").trim()\r\n          }\r\n        }\r\n        // Also check if there's a detail in the response\r\n        if (error?.response?.data?.detail) {\r\n          errorMessage = error.response.data.detail\r\n        }\r\n      }\r\n      \r\n      return rejectWithValue(errorMessage);\r\n    }\r\n  }\r\n);\r\n\r\nexport const pausePipeline = createAsyncThunk(\r\n  'pipelines/pause',\r\n  async (id: string | number, { rejectWithValue, dispatch }) => {\r\n    try {\r\n      const result = await apiClient.pausePipeline(String(id));\r\n      // Refresh pipelines to get updated status\r\n      dispatch(fetchPipelines());\r\n      return result;\r\n    } catch (error: any) {\r\n      return rejectWithValue(error.response?.data?.detail || 'Failed to pause pipeline');\r\n    }\r\n  }\r\n);\r\n\r\nexport const stopPipeline = createAsyncThunk(\r\n  'pipelines/stop',\r\n  async (id: string | number, { rejectWithValue, dispatch }) => {\r\n    try {\r\n      const result = await apiClient.stopPipeline(String(id));\r\n      // Refresh pipelines to get updated status\r\n      dispatch(fetchPipelines());\r\n      return result;\r\n    } catch (error: any) {\r\n      // Provide more detailed error message\r\n      const errorMessage = error.response?.data?.detail || \r\n                          error.message || \r\n                          error.response?.data?.message ||\r\n                          'Failed to stop pipeline';\r\n      console.error('[PipelineSlice] Stop pipeline error:', {\r\n        error,\r\n        response: error.response?.data,\r\n        message: errorMessage\r\n      });\r\n      return rejectWithValue(errorMessage);\r\n    }\r\n  }\r\n);\r\n\r\nexport const fetchPipelineStatus = createAsyncThunk(\r\n  'pipelines/fetchStatus',\r\n  async (id: number) => {\r\n    return await apiClient.getPipelineStatus(id);\r\n  }\r\n);\r\n\r\nconst pipelineSlice = createSlice({\r\n  name: 'pipelines',\r\n  initialState,\r\n  reducers: {\r\n    setSelectedPipeline: (state, action: PayloadAction<Pipeline | null>) => {\r\n      state.selectedPipeline = action.payload;\r\n    },\r\n    clearError: (state) => {\r\n      state.error = null;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(fetchPipelines.pending, (state) => {\r\n        state.isLoading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(fetchPipelines.fulfilled, (state, action) => {\r\n        state.isLoading = false;\r\n        // Merge with existing pipelines to preserve optimistic updates\r\n        // Only update if the backend status is more recent or different\r\n        const newPipelines = action.payload;\r\n        if (Array.isArray(newPipelines)) {\r\n          // Create a map of new pipelines by ID\r\n          const newPipelinesMap = new Map(newPipelines.map(p => [String(p.id), p]));\r\n          \r\n          // Update existing pipelines, but preserve optimistic 'active' status if backend hasn't caught up\r\n          state.pipelines = state.pipelines.map(existingPipeline => {\r\n            const newPipeline = newPipelinesMap.get(String(existingPipeline.id));\r\n            if (newPipeline) {\r\n              // If we optimistically set it to active and backend still shows stopped/starting,\r\n              // keep it as active for a bit longer (backend might be slow to update)\r\n              if (existingPipeline.status === 'active' && \r\n                  newPipeline.status !== 'active' && \r\n                  newPipeline.status !== 'running') {\r\n                // Keep optimistic status for now, but update other fields\r\n                return { ...newPipeline, status: 'active' };\r\n              }\r\n              return newPipeline;\r\n            }\r\n            return existingPipeline;\r\n          });\r\n          \r\n          // Add any new pipelines that weren't in the existing list\r\n          newPipelines.forEach(newPipeline => {\r\n            const exists = state.pipelines.some(p => String(p.id) === String(newPipeline.id));\r\n            if (!exists) {\r\n              state.pipelines.push(newPipeline);\r\n            }\r\n          });\r\n        } else {\r\n          state.pipelines = newPipelines;\r\n        }\r\n      })\r\n      .addCase(fetchPipelines.rejected, (state, action) => {\r\n        state.isLoading = false;\r\n        state.error = action.error.message || 'Failed to fetch pipelines';\r\n      })\r\n      .addCase(fetchPipeline.fulfilled, (state, action) => {\r\n        state.selectedPipeline = action.payload;\r\n      })\r\n      .addCase(createPipeline.fulfilled, (state, action) => {\r\n        state.pipelines.push(action.payload);\r\n      })\r\n      .addCase(updatePipeline.fulfilled, (state, action) => {\r\n        const index = state.pipelines.findIndex((p) => p.id === action.payload.id);\r\n        if (index !== -1) {\r\n          state.pipelines[index] = action.payload;\r\n        }\r\n        if (state.selectedPipeline?.id === action.payload.id) {\r\n          state.selectedPipeline = action.payload;\r\n        }\r\n      })\r\n      .addCase(deletePipeline.fulfilled, (state, action) => {\r\n        state.pipelines = state.pipelines.filter((p) => p.id !== action.payload);\r\n        if (state.selectedPipeline?.id === action.payload) {\r\n          state.selectedPipeline = null;\r\n        }\r\n      })\r\n      .addCase(triggerPipeline.pending, (state, action) => {\r\n        // Optimistically update status to active immediately\r\n        const pipelineId = action.meta.arg.id;\r\n        const pipeline = state.pipelines.find((p) => String(p.id) === String(pipelineId));\r\n        if (pipeline) {\r\n          pipeline.status = 'active';\r\n        }\r\n        if (state.selectedPipeline && String(state.selectedPipeline.id) === String(pipelineId)) {\r\n          state.selectedPipeline.status = 'active';\r\n        }\r\n      })\r\n      .addCase(triggerPipeline.fulfilled, (state, action) => {\r\n        // Update pipeline status to active (in case pending didn't catch it)\r\n        // The response might have 'id' field or 'pipeline_id'\r\n        const pipelineId = action.payload?.id || action.payload?.pipeline_id || action.meta.arg.id;\r\n        const pipeline = state.pipelines.find((p) => String(p.id) === String(pipelineId));\r\n        if (pipeline) {\r\n          pipeline.status = 'active';\r\n        }\r\n        if (state.selectedPipeline && String(state.selectedPipeline.id) === String(pipelineId)) {\r\n          state.selectedPipeline.status = 'active';\r\n        }\r\n      })\r\n      .addCase(triggerPipeline.rejected, (state, action) => {\r\n        // Revert optimistic update on error\r\n        const pipelineId = action.meta.arg.id;\r\n        const pipeline = state.pipelines.find((p) => String(p.id) === String(pipelineId));\r\n        if (pipeline && pipeline.status === 'active') {\r\n          // Only revert if we optimistically set it - check if it was actually started\r\n          // Don't revert if backend says it's active but request failed\r\n          pipeline.status = 'stopped';\r\n        }\r\n      })\r\n      .addCase(pausePipeline.fulfilled, (state, action) => {\r\n        // Update pipeline status to paused\r\n        const pipeline = state.pipelines.find((p) => p.id === action.payload.id);\r\n        if (pipeline) {\r\n          pipeline.status = 'paused';\r\n        }\r\n        if (state.selectedPipeline && state.selectedPipeline.id === action.payload.id) {\r\n          state.selectedPipeline.status = 'paused';\r\n        }\r\n      })\r\n      .addCase(stopPipeline.fulfilled, (state, action) => {\r\n        // Update pipeline status to paused (stopped)\r\n        const pipeline = state.pipelines.find((p) => p.id === action.payload.id);\r\n        if (pipeline) {\r\n          pipeline.status = 'paused';\r\n        }\r\n        if (state.selectedPipeline && state.selectedPipeline.id === action.payload.id) {\r\n          state.selectedPipeline.status = 'paused';\r\n        }\r\n      });\r\n  },\r\n});\r\n\r\nexport const { setSelectedPipeline, clearError } = pipelineSlice.actions;\r\nexport default pipelineSlice.reducer;\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2829, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Saroj/Desktop/cdcteam-feature-as400integration/cdcteam-feature-as400-integration/seg-cdc-application/frontend/lib/store/slices/monitoringSlice.ts"],"sourcesContent":["/**\r\n * Monitoring Redux slice\r\n */\r\nimport { createSlice, createAsyncThunk, PayloadAction } from '@reduxjs/toolkit';\r\nimport { apiClient } from '@/lib/api/client';\r\n\r\ninterface ReplicationEvent {\r\n  id: string;  // Database ID as string\r\n  pipeline_id: string;  // Database ID as string\r\n  pipeline_run_id?: string;  // Database ID as string (optional)\r\n  event_type: 'insert' | 'update' | 'delete';\r\n  table_name: string;\r\n  schema_name?: string;\r\n  source_data?: any;\r\n  target_data?: any;\r\n  changed_columns?: string[];\r\n  source_commit_time?: string;\r\n  target_apply_time?: string;\r\n  latency_ms?: number;\r\n  // Replication Position (LSN/SCN/Binlog)\r\n  source_lsn?: string;  // PostgreSQL LSN\r\n  source_scn?: number;  // Oracle SCN\r\n  source_binlog_file?: string;  // MySQL binlog file\r\n  source_binlog_position?: number;  // MySQL binlog position\r\n  sql_server_lsn?: string;  // SQL Server LSN\r\n  status: string;\r\n  error_message?: string;\r\n  created_at: string;\r\n}\r\n\r\ninterface MonitoringMetric {\r\n  id: string;  // Database ID as string\r\n  pipeline_id: string;  // Database ID as string\r\n  timestamp: string;\r\n  events_per_second: number;\r\n  avg_latency_ms: number;\r\n  total_events: number;\r\n  insert_count: number;\r\n  update_count: number;\r\n  delete_count: number;\r\n  error_count: number;\r\n}\r\n\r\ninterface MonitoringState {\r\n  events: ReplicationEvent[];\r\n  metrics: MonitoringMetric[];\r\n  selectedPipelineId: number | string | null;\r\n  isLoading: boolean;\r\n  error: string | null;\r\n  realTimeEnabled: boolean;\r\n}\r\n\r\nconst initialState: MonitoringState = {\r\n  events: [],\r\n  metrics: [],\r\n  selectedPipelineId: null,\r\n  isLoading: false,\r\n  error: null,\r\n  realTimeEnabled: false,\r\n};\r\n\r\n// Async thunks\r\nexport const fetchReplicationEvents = createAsyncThunk(\r\n  'monitoring/fetchEvents',\r\n  async ({\r\n    pipelineId,\r\n    skip,\r\n    limit,\r\n    todayOnly,\r\n    startDate,\r\n    endDate,\r\n    tableName,\r\n  }: {\r\n    pipelineId?: number | string;\r\n    skip?: number;\r\n    limit?: number;\r\n    todayOnly?: boolean;\r\n    startDate?: string | Date;\r\n    endDate?: string | Date;\r\n    tableName?: string; // Added table name filter\r\n  }) => {\r\n    return await apiClient.getReplicationEvents(\r\n      pipelineId,\r\n      skip,\r\n      limit,\r\n      todayOnly || false,\r\n      startDate,\r\n      endDate,\r\n      tableName\r\n    );\r\n  }\r\n);\r\n\r\nexport const fetchMonitoringMetrics = createAsyncThunk(\r\n  'monitoring/fetchMetrics',\r\n  async ({ \r\n    pipelineId, \r\n    startTime, \r\n    endTime \r\n  }: { \r\n    pipelineId: number | string; \r\n    startTime?: string | Date; \r\n    endTime?: string | Date; \r\n  }) => {\r\n    // Convert to string if it's a number, or use as-is if it's already a string\r\n    const id = typeof pipelineId === 'number' && !isNaN(pipelineId) ? pipelineId : String(pipelineId)\r\n    // Don't proceed if ID is invalid\r\n    if (!id || id === 'NaN' || id === 'undefined') {\r\n      throw new Error('Invalid pipeline ID')\r\n    }\r\n    return await apiClient.getMonitoringMetrics(id, startTime, endTime);\r\n  }\r\n);\r\n\r\nconst monitoringSlice = createSlice({\r\n  name: 'monitoring',\r\n  initialState,\r\n  reducers: {\r\n    setSelectedPipeline: (state, action: PayloadAction<number | string | null>) => {\r\n      state.selectedPipelineId = action.payload;\r\n    },\r\n    addReplicationEvent: (state, action: PayloadAction<ReplicationEvent>) => {\r\n      // Check if event already exists (avoid duplicates)\r\n      const existingIndex = state.events.findIndex(e => e.id === action.payload.id);\r\n      if (existingIndex === -1) {\r\n        state.events.unshift(action.payload);\r\n        // Keep only last 1000 events\r\n        if (state.events.length > 1000) {\r\n          state.events = state.events.slice(0, 1000);\r\n        }\r\n      }\r\n    },\r\n    addMonitoringMetric: (state, action: PayloadAction<MonitoringMetric>) => {\r\n      state.metrics.push(action.payload);\r\n      // Keep only last 1000 metrics\r\n      if (state.metrics.length > 1000) {\r\n        state.metrics = state.metrics.slice(0, 1000);\r\n      }\r\n    },\r\n    setRealTimeEnabled: (state, action: PayloadAction<boolean>) => {\r\n      state.realTimeEnabled = action.payload;\r\n    },\r\n    clearEvents: (state) => {\r\n      state.events = [];\r\n    },\r\n    clearError: (state) => {\r\n      state.error = null;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(fetchReplicationEvents.pending, (state) => {\r\n        state.isLoading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(fetchReplicationEvents.fulfilled, (state, action) => {\r\n        state.isLoading = false;\r\n        // Ensure events is always an array\r\n        state.events = Array.isArray(action.payload) ? action.payload : [];\r\n      })\r\n      .addCase(fetchReplicationEvents.rejected, (state, action) => {\r\n        state.isLoading = false;\r\n        state.error = action.error.message || 'Failed to fetch events';\r\n        // Ensure events remains an array even on error\r\n        if (!Array.isArray(state.events)) {\r\n          state.events = [];\r\n        }\r\n      })\r\n      .addCase(fetchMonitoringMetrics.pending, (state) => {\r\n        state.isLoading = true;\r\n      })\r\n      .addCase(fetchMonitoringMetrics.fulfilled, (state, action) => {\r\n        state.isLoading = false;\r\n        // Ensure metrics is always an array\r\n        state.metrics = Array.isArray(action.payload) ? action.payload : [];\r\n      })\r\n      .addCase(fetchMonitoringMetrics.rejected, (state, action) => {\r\n        state.isLoading = false;\r\n        state.error = action.error.message || 'Failed to fetch metrics';\r\n        // Ensure metrics remains an array even on error\r\n        if (!Array.isArray(state.metrics)) {\r\n          state.metrics = [];\r\n        }\r\n      });\r\n  },\r\n});\r\n\r\nexport const {\r\n  setSelectedPipeline,\r\n  addReplicationEvent,\r\n  addMonitoringMetric,\r\n  setRealTimeEnabled,\r\n  clearEvents,\r\n  clearError,\r\n} = monitoringSlice.actions;\r\nexport default monitoringSlice.reducer;\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2947, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Saroj/Desktop/cdcteam-feature-as400integration/cdcteam-feature-as400-integration/seg-cdc-application/frontend/lib/store/slices/userSlice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk, PayloadAction } from '@reduxjs/toolkit'\r\nimport { apiClient } from '@/lib/api/client'\r\n\r\ninterface User {\r\n  id: string\r\n  email: string\r\n  full_name: string\r\n  role_name: string\r\n  status?: string\r\n  is_active: boolean\r\n  is_superuser: boolean\r\n  last_login?: string\r\n  created_at: string\r\n}\r\n\r\ninterface UserState {\r\n  users: User[]\r\n  selectedUser: User | null\r\n  isLoading: boolean\r\n  error: string | null\r\n}\r\n\r\nconst initialState: UserState = {\r\n  users: [],\r\n  selectedUser: null,\r\n  isLoading: false,\r\n  error: null,\r\n}\r\n\r\n// Async thunks\r\nexport const fetchUsers = createAsyncThunk('users/fetchUsers', async () => {\r\n  const response = await apiClient.client.get('/api/v1/users')\r\n  return response.data\r\n})\r\n\r\nexport const createUser = createAsyncThunk('users/createUser', async (userData: any) => {\r\n  const response = await apiClient.client.post('/api/v1/users', userData)\r\n  return response.data\r\n})\r\n\r\nexport const updateUser = createAsyncThunk('users/updateUser', async ({ id, userData }: { id: string; userData: any }) => {\r\n  const response = await apiClient.client.put(`/api/v1/users/${id}`, userData)\r\n  return response.data\r\n})\r\n\r\nexport const deleteUser = createAsyncThunk('users/deleteUser', async (id: string) => {\r\n  await apiClient.client.delete(`/api/v1/users/${id}`)\r\n  return id\r\n})\r\n\r\nconst userSlice = createSlice({\r\n  name: 'users',\r\n  initialState,\r\n  reducers: {\r\n    setSelectedUser: (state, action: PayloadAction<User | null>) => {\r\n      state.selectedUser = action.payload\r\n    },\r\n    clearError: (state) => {\r\n      state.error = null\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      // Fetch users\r\n      .addCase(fetchUsers.pending, (state) => {\r\n        state.isLoading = true\r\n        state.error = null\r\n      })\r\n      .addCase(fetchUsers.fulfilled, (state, action) => {\r\n        state.isLoading = false\r\n        state.users = Array.isArray(action.payload) ? action.payload : []\r\n      })\r\n      .addCase(fetchUsers.rejected, (state, action) => {\r\n        state.isLoading = false\r\n        state.error = action.error.message || 'Failed to fetch users'\r\n      })\r\n      // Create user\r\n      .addCase(createUser.fulfilled, (state, action) => {\r\n        state.users.push(action.payload)\r\n      })\r\n      .addCase(createUser.rejected, (state, action) => {\r\n        state.error = action.error.message || 'Failed to create user'\r\n      })\r\n      // Update user\r\n      .addCase(updateUser.fulfilled, (state, action) => {\r\n        const index = state.users.findIndex(u => u.id === action.payload.id)\r\n        if (index !== -1) {\r\n          state.users[index] = action.payload\r\n        }\r\n      })\r\n      .addCase(updateUser.rejected, (state, action) => {\r\n        state.error = action.error.message || 'Failed to update user'\r\n      })\r\n      // Delete user\r\n      .addCase(deleteUser.fulfilled, (state, action) => {\r\n        state.users = state.users.filter(u => u.id !== action.payload)\r\n      })\r\n      .addCase(deleteUser.rejected, (state, action) => {\r\n        state.error = action.error.message || 'Failed to delete user'\r\n      })\r\n  },\r\n})\r\n\r\nexport const { setSelectedUser, clearError } = userSlice.actions\r\nexport default userSlice.reducer\r\n\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA;AACA;;;AAqBA,MAAM,eAA0B;IAC9B,OAAO,EAAE;IACT,cAAc;IACd,WAAW;IACX,OAAO;AACT;AAGO,MAAM,aAAa,IAAA,+MAAgB,EAAC,oBAAoB;IAC7D,MAAM,WAAW,MAAM,iIAAS,CAAC,MAAM,CAAC,GAAG,CAAC;IAC5C,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,aAAa,IAAA,+MAAgB,EAAC,oBAAoB,OAAO;IACpE,MAAM,WAAW,MAAM,iIAAS,CAAC,MAAM,CAAC,IAAI,CAAC,iBAAiB;IAC9D,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,aAAa,IAAA,+MAAgB,EAAC,oBAAoB,OAAO,EAAE,EAAE,EAAE,QAAQ,EAAiC;IACnH,MAAM,WAAW,MAAM,iIAAS,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,cAAc,EAAE,IAAI,EAAE;IACnE,OAAO,SAAS,IAAI;AACtB;AAEO,MAAM,aAAa,IAAA,+MAAgB,EAAC,oBAAoB,OAAO;IACpE,MAAM,iIAAS,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,cAAc,EAAE,IAAI;IACnD,OAAO;AACT;AAEA,MAAM,YAAY,IAAA,0MAAW,EAAC;IAC5B,MAAM;IACN;IACA,UAAU;QACR,iBAAiB,CAAC,OAAO;YACvB,MAAM,YAAY,GAAG,OAAO,OAAO;QACrC;QACA,YAAY,CAAC;YACX,MAAM,KAAK,GAAG;QAChB;IACF;IACA,eAAe,CAAC;QACd,OACE,cAAc;SACb,OAAO,CAAC,WAAW,OAAO,EAAE,CAAC;YAC5B,MAAM,SAAS,GAAG;YAClB,MAAM,KAAK,GAAG;QAChB,GACC,OAAO,CAAC,WAAW,SAAS,EAAE,CAAC,OAAO;YACrC,MAAM,SAAS,GAAG;YAClB,MAAM,KAAK,GAAG,MAAM,OAAO,CAAC,OAAO,OAAO,IAAI,OAAO,OAAO,GAAG,EAAE;QACnE,GACC,OAAO,CAAC,WAAW,QAAQ,EAAE,CAAC,OAAO;YACpC,MAAM,SAAS,GAAG;YAClB,MAAM,KAAK,GAAG,OAAO,KAAK,CAAC,OAAO,IAAI;QACxC,EACA,cAAc;SACb,OAAO,CAAC,WAAW,SAAS,EAAE,CAAC,OAAO;YACrC,MAAM,KAAK,CAAC,IAAI,CAAC,OAAO,OAAO;QACjC,GACC,OAAO,CAAC,WAAW,QAAQ,EAAE,CAAC,OAAO;YACpC,MAAM,KAAK,GAAG,OAAO,KAAK,CAAC,OAAO,IAAI;QACxC,EACA,cAAc;SACb,OAAO,CAAC,WAAW,SAAS,EAAE,CAAC,OAAO;YACrC,MAAM,QAAQ,MAAM,KAAK,CAAC,SAAS,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,OAAO,OAAO,CAAC,EAAE;YACnE,IAAI,UAAU,CAAC,GAAG;gBAChB,MAAM,KAAK,CAAC,MAAM,GAAG,OAAO,OAAO;YACrC;QACF,GACC,OAAO,CAAC,WAAW,QAAQ,EAAE,CAAC,OAAO;YACpC,MAAM,KAAK,GAAG,OAAO,KAAK,CAAC,OAAO,IAAI;QACxC,EACA,cAAc;SACb,OAAO,CAAC,WAAW,SAAS,EAAE,CAAC,OAAO;YACrC,MAAM,KAAK,GAAG,MAAM,KAAK,CAAC,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,OAAO,OAAO;QAC/D,GACC,OAAO,CAAC,WAAW,QAAQ,EAAE,CAAC,OAAO;YACpC,MAAM,KAAK,GAAG,OAAO,KAAK,CAAC,OAAO,IAAI;QACxC;IACJ;AACF;AAEO,MAAM,EAAE,eAAe,EAAE,UAAU,EAAE,GAAG,UAAU,OAAO;uCACjD,UAAU,OAAO"}},
    {"offset": {"line": 3038, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Saroj/Desktop/cdcteam-feature-as400integration/cdcteam-feature-as400-integration/seg-cdc-application/frontend/lib/store/store.ts"],"sourcesContent":["/**\r\n * Redux store configuration\r\n */\r\nimport { configureStore } from '@reduxjs/toolkit';\r\nimport authReducer from './slices/authSlice';\r\nimport connectionReducer from './slices/connectionSlice';\r\nimport pipelineReducer from './slices/pipelineSlice';\r\nimport monitoringReducer from './slices/monitoringSlice';\r\nimport alertsReducer from './slices/alertsSlice';\r\nimport permissionReducer from './slices/permissionSlice';\r\nimport userReducer from './slices/userSlice';\r\nimport etlReducer from './slices/etlSlice';\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    auth: authReducer,\r\n    connections: connectionReducer,\r\n    pipelines: pipelineReducer,\r\n    monitoring: monitoringReducer,\r\n    alerts: alertsReducer,\r\n    permissions: permissionReducer,\r\n    users: userReducer,\r\n  },\r\n});\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppDispatch = typeof store.dispatch;\r\n\r\n"],"names":[],"mappings":"AAAA;;CAEC;;;;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AAGO,MAAM,QAAQ,IAAA,6MAAc,EAAC;IAClC,SAAS;QACP,MAAM,8IAAW;QACjB,aAAa,oJAAiB;QAC9B,WAAW,kJAAe;QAC1B,YAAY,oJAAiB;QAC7B,QAAQ,gJAAa;QACrB,aAAa,oJAAiB;QAC9B,OAAO,8IAAW;IACpB;AACF"}},
    {"offset": {"line": 3099, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Saroj/Desktop/cdcteam-feature-as400integration/cdcteam-feature-as400-integration/seg-cdc-application/frontend/lib/websocket/client.ts"],"sourcesContent":["/**\n * WebSocket client for real-time monitoring\n */\nimport { io, Socket } from 'socket.io-client';\nimport { store } from '@/lib/store/store';\nimport { addReplicationEvent, addMonitoringMetric, fetchReplicationEvents } from '@/lib/store/slices/monitoringSlice';\n\nconst WS_URL = process.env.NEXT_PUBLIC_WS_URL || 'http://localhost:8000';\nconst WS_ENABLED = process.env.NEXT_PUBLIC_WS_ENABLED !== 'false'; // Default to true unless explicitly disabled\n\nclass WebSocketClient {\n  private socket: Socket | null = null;\n  private subscribedPipelines: Set<number | string> = new Set();\n  private isConnecting: boolean = false;\n  private connectionFailed: boolean = false; // Track if connection has failed to prevent retries\n  private errorCount: number = 0; // Track consecutive errors to suppress spam\n  private maxErrorCount: number = 3; // Stop logging after 3 errors\n  private statusListeners: Set<() => void> = new Set(); // Listeners for status changes\n\n  connect() {\n    // Check if WebSocket is enabled\n    if (!WS_ENABLED) {\n      console.log('[WebSocket] WebSocket is disabled via configuration');\n      this.connectionFailed = true;\n      return;\n    }\n\n    // If connection has permanently failed, don't retry automatically\n    // User can still manually retry via retryConnection()\n    if (this.connectionFailed && this.errorCount >= 5) {\n      console.log('[WebSocket] Connection permanently failed. Use retryConnection() to manually retry.');\n      return;\n    }\n\n    // Prevent multiple connection attempts\n    if (this.socket?.connected) {\n      console.log('[WebSocket] Already connected');\n      return;\n    }\n    \n    if (this.isConnecting) {\n      console.log('[WebSocket] Connection already in progress');\n      return;\n    }\n\n    // Reset failed state to allow retry (if error count is low)\n    if (this.connectionFailed && this.errorCount < 5) {\n      console.log('[WebSocket] Resetting failed state and attempting reconnection');\n      this.connectionFailed = false;\n      // Clean up old socket if exists\n      if (this.socket) {\n        this.socket.removeAllListeners();\n        this.socket.disconnect();\n        this.socket = null;\n      }\n    }\n\n    this.isConnecting = true;\n    console.log('[WebSocket] Attempting to connect to:', WS_URL);\n\n    this.socket = io(WS_URL, {\n      path: '/socket.io',\n      transports: ['polling', 'websocket'], // Try polling first (more reliable fallback)\n      reconnection: this.errorCount < 3, // Only enable reconnection if we haven't failed too many times\n      reconnectionDelay: 2000, // Start with 2 second delay\n      reconnectionDelayMax: 10000, // Max 10 second delay\n      reconnectionAttempts: 2, // Reduced to 2 attempts to fail faster if backend doesn't support it\n      timeout: 10000, // 10 second timeout (increased from 3s to handle slow connections)\n      forceNew: false, // Reuse existing connection if available\n      autoConnect: true,\n      // Suppress default error logging\n      withCredentials: false,\n    });\n\n    this.socket.on('connect', () => {\n      console.log('========================================');\n      console.log('[Frontend] WEBSOCKET CONNECTED');\n      console.log('========================================');\n      console.log('[Frontend] Socket ID:', this.socket?.id);\n      console.log('[Frontend] Previously subscribed pipelines:', Array.from(this.subscribedPipelines));\n      this.isConnecting = false;\n      this.connectionFailed = false; // Reset failure flag on successful connection\n      this.errorCount = 0; // Reset error count on successful connection\n      // Notify all listeners about status change\n      this.notifyStatusListeners();\n      // Re-subscribe to previously subscribed pipelines\n      this.subscribedPipelines.forEach((pipelineId) => {\n        if (this.socket?.connected) {\n          console.log(`[Frontend] Re-subscribing to pipeline: ${pipelineId}`);\n          this.socket.emit('subscribe_pipeline', { pipeline_id: pipelineId });\n        }\n      });\n      console.log('========================================');\n    });\n\n    this.socket.on('disconnect', (reason) => {\n      console.log('WebSocket disconnected:', reason);\n      this.isConnecting = false;\n      // Notify all listeners about status change\n      this.notifyStatusListeners();\n      if (reason === 'io server disconnect') {\n        // Server disconnected, try to reconnect manually\n        this.socket?.connect();\n      }\n    });\n\n    this.socket.on('connect_error', (error) => {\n      this.errorCount++;\n      this.isConnecting = false;\n      \n      // Only log first few errors to avoid console spam\n      if (this.errorCount <= this.maxErrorCount) {\n        console.warn(`[WebSocket] Connection error (${this.errorCount}/${this.maxErrorCount}):`, error.message);\n        if (this.errorCount === this.maxErrorCount) {\n          console.warn('[WebSocket] Suppressing further connection errors. Backend may not have Socket.IO configured.');\n        }\n      }\n      \n      // If we've had multiple errors quickly, mark as failed to stop retries\n      // This prevents infinite retry loops when backend doesn't support WebSocket\n      if (this.errorCount >= 3) {\n        this.connectionFailed = true;\n        if (this.socket) {\n          this.socket.io.reconnecting = false;\n          this.socket.disconnect();\n          this.socket = null; // Clean up socket to prevent further attempts\n        }\n        console.warn('[WebSocket] Stopped connection attempts. Backend does not appear to support WebSocket. Using polling mode.');\n      }\n    });\n\n    this.socket.on('reconnect_attempt', (attemptNumber) => {\n      // Only log first few attempts to avoid spam\n      if (attemptNumber <= 2) {\n        console.log(`[WebSocket] Reconnection attempt ${attemptNumber}`);\n      }\n    });\n\n    this.socket.on('reconnect_failed', () => {\n      if (this.errorCount <= this.maxErrorCount) {\n        console.warn('[WebSocket] All reconnection attempts failed. WebSocket unavailable. Using polling mode.');\n      }\n      this.connectionFailed = true;\n      this.isConnecting = false;\n      // Stop reconnection attempts\n      if (this.socket) {\n        this.socket.io.reconnecting = false;\n      }\n    });\n\n    this.socket.on('reconnect', (attemptNumber) => {\n      console.log(`[WebSocket] Successfully reconnected after ${attemptNumber} attempts`);\n      this.connectionFailed = false;\n      this.isConnecting = false;\n      this.errorCount = 0; // Reset error count on reconnect\n      // Notify all listeners about status change\n      this.notifyStatusListeners();\n      // Re-subscribe to all previously subscribed pipelines\n      this.subscribedPipelines.forEach((pipelineId) => {\n        if (this.socket?.connected) {\n          console.log(`[WebSocket] Re-subscribing to pipeline: ${pipelineId}`);\n          this.socket.emit('subscribe_pipeline', { pipeline_id: pipelineId });\n        }\n      });\n    });\n\n    this.socket.on('error', (error) => {\n      // Suppress WebSocket errors - backend may not have Socket.IO configured\n      // This is not critical for the application to function\n      // Disable reconnection to prevent spam\n      if (this.socket) {\n        this.socket.io.reconnecting = false;\n      }\n      // Don't log to console to avoid cluttering logs\n    });\n\n    this.socket.on('replication_event', (data: any) => {\n      try {\n        console.log('========================================');\n        console.log('[Frontend] RECEIVED REPLICATION EVENT');\n        console.log('========================================');\n        console.log('[Frontend] Event ID:', data.id);\n        console.log('[Frontend] Pipeline ID:', data.pipeline_id);\n        console.log('[Frontend] Event Type:', data.event_type);\n        console.log('[Frontend] Table:', data.table_name);\n        console.log('[Frontend] Status:', data.status);\n        console.log('[Frontend] Full event data:', data);\n        console.log('========================================');\n        \n        store.dispatch(addReplicationEvent(data));\n        console.log('[Frontend] âœ“ Event added to Redux store');\n        \n        // Refresh events from API with correct parameters when new event is received\n        // This ensures the events list is up-to-date with all parameters applied\n        const state = store.getState();\n        const monitoringState = state.monitoring;\n        const selectedPipelineId = monitoringState.selectedPipelineId;\n        \n        // Prepare fetch parameters based on current state\n        const fetchParams: {\n          pipelineId?: number | string;\n          limit?: number;\n          todayOnly?: boolean;\n          startDate?: string | Date;\n          endDate?: string | Date;\n        } = {\n          limit: 500,\n          todayOnly: false, // Fetch all events, not just today's\n        };\n        \n        // Add pipeline_id if a specific pipeline is selected, or use the event's pipeline_id\n        if (selectedPipelineId) {\n          fetchParams.pipelineId = selectedPipelineId;\n        } else if (data.pipeline_id) {\n          // If no pipeline is selected but event has pipeline_id, refresh with that pipeline\n          fetchParams.pipelineId = data.pipeline_id;\n        }\n        \n        // Dispatch fetch to refresh events list with correct parameters\n        store.dispatch(fetchReplicationEvents(fetchParams));\n        \n        // Show browser notification for new events\n        if (typeof window !== 'undefined' && 'Notification' in window && Notification.permission === 'granted') {\n          new Notification('CDC Event Captured', {\n            body: `${data.event_type?.toUpperCase() || 'EVENT'} on ${data.table_name || 'table'} - ${data.status || 'unknown'}`,\n            icon: '/icon-dark-32x32.png',\n          });\n        }\n      } catch (error) {\n        console.error('Error handling replication event:', error);\n      }\n    });\n\n    this.socket.on('monitoring_metric', (data: any) => {\n      try {\n        console.log('Received monitoring metric:', data);\n        store.dispatch(addMonitoringMetric(data));\n      } catch (error) {\n        console.error('Error handling monitoring metric:', error);\n      }\n    });\n\n    this.socket.on('pipeline_status', (data: any) => {\n      try {\n        console.log('Pipeline status update:', data);\n        // Handle pipeline status updates\n      } catch (error) {\n        console.error('Error handling pipeline status:', error);\n      }\n    });\n  }\n\n  disconnect() {\n    if (this.socket) {\n      this.socket.disconnect();\n      this.socket = null;\n      this.subscribedPipelines.clear();\n      this.isConnecting = false;\n    }\n  }\n\n  subscribePipeline(pipelineId: number | string) {\n    // Validate pipeline ID\n    if (!pipelineId || pipelineId === 'NaN' || pipelineId === 'undefined' || \n        (typeof pipelineId === 'number' && (isNaN(pipelineId) || !isFinite(pipelineId)))) {\n      console.error(`[Frontend] âœ— Invalid pipeline ID for subscription: ${pipelineId}`);\n      return;\n    }\n    \n    // Skip if already subscribed\n    if (this.subscribedPipelines.has(pipelineId)) {\n      console.log(`[Frontend] Already subscribed to pipeline: ${pipelineId}`);\n      return;\n    }\n\n    console.log(`[Frontend] ========================================`);\n    console.log(`[Frontend] SUBSCRIBING TO PIPELINE`);\n    console.log(`[Frontend] ========================================`);\n    console.log(`[Frontend] Pipeline ID: ${pipelineId} (type: ${typeof pipelineId})`);\n    console.log(`[Frontend] WebSocket connected: ${this.socket?.connected || false}`);\n    console.log(`[Frontend] Socket ID: ${this.socket?.id || 'N/A'}`);\n\n    // Add to set first to prevent duplicate subscriptions\n    this.subscribedPipelines.add(pipelineId);\n\n    if (!this.socket?.connected) {\n      console.log(`[Frontend] WebSocket not connected, connecting...`);\n      this.connect();\n      // Wait for connection before subscribing\n      if (this.socket) {\n        this.socket.once('connect', () => {\n          if (this.socket?.connected) {\n            console.log(`[Frontend] WebSocket connected, subscribing to pipeline: ${pipelineId}`);\n            this.socket.emit('subscribe_pipeline', { pipeline_id: pipelineId });\n            console.log(`[Frontend] âœ“ Subscription request sent for pipeline: ${pipelineId}`);\n          }\n        });\n      }\n    } else if (this.socket.connected) {\n      // Already connected, subscribe immediately\n      console.log(`[Frontend] WebSocket already connected, subscribing immediately`);\n      this.socket.emit('subscribe_pipeline', { pipeline_id: pipelineId });\n      console.log(`[Frontend] âœ“ Subscription request sent for pipeline: ${pipelineId}`);\n    }\n    console.log(`[Frontend] ========================================`);\n  }\n\n  unsubscribePipeline(pipelineId: number | string) {\n    if (this.socket && this.subscribedPipelines.has(pipelineId)) {\n      this.socket.emit('unsubscribe_pipeline', { pipeline_id: pipelineId });\n      this.subscribedPipelines.delete(pipelineId);\n    }\n  }\n\n  isConnected(): boolean {\n    // Check actual connection state - if socket is connected, always return true\n    return this.socket?.connected === true;\n  }\n\n  isAvailable(): boolean {\n    // WebSocket is available if:\n    // 1. It's connected (always available if connected, regardless of connectionFailed flag)\n    // 2. It's still trying to connect (isConnecting)\n    // 3. Socket exists and hasn't permanently failed (for initial connection attempts)\n    // Priority: connected > connecting > not failed\n    if (this.socket?.connected === true) {\n      return true; // Always available if connected\n    }\n    if (this.isConnecting) {\n      return true; // Available if connecting\n    }\n    // If not connected and not connecting, only available if not permanently failed\n    return !this.connectionFailed && this.socket !== null;\n  }\n\n  reset(): void {\n    // Reset connection state to allow retry\n    console.log('[WebSocket] Resetting connection state');\n    this.connectionFailed = false;\n    this.isConnecting = false;\n    this.errorCount = 0; // Reset error count\n    if (this.socket) {\n      this.socket.removeAllListeners();\n      this.socket.disconnect();\n      this.socket = null;\n    }\n  }\n\n  retryConnection(): void {\n    // Manually trigger reconnection\n    console.log('[WebSocket] Manual reconnection requested');\n    this.reset();\n    \n    // Check if WebSocket is enabled\n    if (!WS_ENABLED) {\n      console.warn('[WebSocket] WebSocket is disabled via configuration. Enable it in environment variables.');\n      this.connectionFailed = true;\n      return;\n    }\n    \n    this.connect();\n  }\n\n  disable(): void {\n    // Manually disable WebSocket (useful for testing or when backend doesn't support it)\n    console.log('[WebSocket] Manually disabling WebSocket');\n    this.connectionFailed = true;\n    this.isConnecting = false;\n    if (this.socket) {\n      this.socket.io.reconnecting = false;\n      this.socket.removeAllListeners();\n      this.socket.disconnect();\n      this.socket = null;\n    }\n  }\n\n  isDisabled(): boolean {\n    // Check if WebSocket is disabled or permanently failed\n    return !WS_ENABLED || (this.connectionFailed && this.errorCount >= 3);\n  }\n\n  hasFailed(): boolean {\n    // Check if WebSocket connection has permanently failed (backend doesn't support Socket.IO)\n    return this.connectionFailed;\n  }\n\n  // Status change notification system\n  onStatusChange(callback: () => void): () => void {\n    // Add listener\n    this.statusListeners.add(callback);\n    // Return unsubscribe function\n    return () => {\n      this.statusListeners.delete(callback);\n    };\n  }\n\n  private notifyStatusListeners(): void {\n    // Notify all listeners about status change\n    this.statusListeners.forEach(listener => {\n      try {\n        listener();\n      } catch (error) {\n        console.error('Error in status listener:', error);\n      }\n    });\n  }\n}\n\nexport const wsClient = new WebSocketClient();\n\n"],"names":[],"mappings":"AAAA;;CAEC;;;;AACD;AACA;AACA;;;;AAEA,MAAM,SAAS,6DAAkC;AACjD,MAAM,aAAa,QAAQ,GAAG,CAAC,sBAAsB,KAAK,SAAS,6CAA6C;AAEhH,MAAM;IACI,SAAwB,KAAK;IAC7B,sBAA4C,IAAI,MAAM;IACtD,eAAwB,MAAM;IAC9B,mBAA4B,MAAM;IAClC,aAAqB,EAAE;IACvB,gBAAwB,EAAE;IAC1B,kBAAmC,IAAI,MAAM;IAErD,UAAU;QACR,gCAAgC;QAChC,IAAI,CAAC,YAAY;YACf,QAAQ,GAAG,CAAC;YACZ,IAAI,CAAC,gBAAgB,GAAG;YACxB;QACF;QAEA,kEAAkE;QAClE,sDAAsD;QACtD,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,UAAU,IAAI,GAAG;YACjD,QAAQ,GAAG,CAAC;YACZ;QACF;QAEA,uCAAuC;QACvC,IAAI,IAAI,CAAC,MAAM,EAAE,WAAW;YAC1B,QAAQ,GAAG,CAAC;YACZ;QACF;QAEA,IAAI,IAAI,CAAC,YAAY,EAAE;YACrB,QAAQ,GAAG,CAAC;YACZ;QACF;QAEA,4DAA4D;QAC5D,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,UAAU,GAAG,GAAG;YAChD,QAAQ,GAAG,CAAC;YACZ,IAAI,CAAC,gBAAgB,GAAG;YACxB,gCAAgC;YAChC,IAAI,IAAI,CAAC,MAAM,EAAE;gBACf,IAAI,CAAC,MAAM,CAAC,kBAAkB;gBAC9B,IAAI,CAAC,MAAM,CAAC,UAAU;gBACtB,IAAI,CAAC,MAAM,GAAG;YAChB;QACF;QAEA,IAAI,CAAC,YAAY,GAAG;QACpB,QAAQ,GAAG,CAAC,yCAAyC;QAErD,IAAI,CAAC,MAAM,GAAG,IAAA,8LAAE,EAAC,QAAQ;YACvB,MAAM;YACN,YAAY;gBAAC;gBAAW;aAAY;YACpC,cAAc,IAAI,CAAC,UAAU,GAAG;YAChC,mBAAmB;YACnB,sBAAsB;YACtB,sBAAsB;YACtB,SAAS;YACT,UAAU;YACV,aAAa;YACb,iCAAiC;YACjC,iBAAiB;QACnB;QAEA,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,WAAW;YACxB,QAAQ,GAAG,CAAC;YACZ,QAAQ,GAAG,CAAC;YACZ,QAAQ,GAAG,CAAC;YACZ,QAAQ,GAAG,CAAC,yBAAyB,IAAI,CAAC,MAAM,EAAE;YAClD,QAAQ,GAAG,CAAC,+CAA+C,MAAM,IAAI,CAAC,IAAI,CAAC,mBAAmB;YAC9F,IAAI,CAAC,YAAY,GAAG;YACpB,IAAI,CAAC,gBAAgB,GAAG,OAAO,8CAA8C;YAC7E,IAAI,CAAC,UAAU,GAAG,GAAG,6CAA6C;YAClE,2CAA2C;YAC3C,IAAI,CAAC,qBAAqB;YAC1B,kDAAkD;YAClD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC;gBAChC,IAAI,IAAI,CAAC,MAAM,EAAE,WAAW;oBAC1B,QAAQ,GAAG,CAAC,CAAC,uCAAuC,EAAE,YAAY;oBAClE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,sBAAsB;wBAAE,aAAa;oBAAW;gBACnE;YACF;YACA,QAAQ,GAAG,CAAC;QACd;QAEA,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,cAAc,CAAC;YAC5B,QAAQ,GAAG,CAAC,2BAA2B;YACvC,IAAI,CAAC,YAAY,GAAG;YACpB,2CAA2C;YAC3C,IAAI,CAAC,qBAAqB;YAC1B,IAAI,WAAW,wBAAwB;gBACrC,iDAAiD;gBACjD,IAAI,CAAC,MAAM,EAAE;YACf;QACF;QAEA,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,iBAAiB,CAAC;YAC/B,IAAI,CAAC,UAAU;YACf,IAAI,CAAC,YAAY,GAAG;YAEpB,kDAAkD;YAClD,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,aAAa,EAAE;gBACzC,QAAQ,IAAI,CAAC,CAAC,8BAA8B,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,EAAE,MAAM,OAAO;gBACtG,IAAI,IAAI,CAAC,UAAU,KAAK,IAAI,CAAC,aAAa,EAAE;oBAC1C,QAAQ,IAAI,CAAC;gBACf;YACF;YAEA,uEAAuE;YACvE,4EAA4E;YAC5E,IAAI,IAAI,CAAC,UAAU,IAAI,GAAG;gBACxB,IAAI,CAAC,gBAAgB,GAAG;gBACxB,IAAI,IAAI,CAAC,MAAM,EAAE;oBACf,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,YAAY,GAAG;oBAC9B,IAAI,CAAC,MAAM,CAAC,UAAU;oBACtB,IAAI,CAAC,MAAM,GAAG,MAAM,8CAA8C;gBACpE;gBACA,QAAQ,IAAI,CAAC;YACf;QACF;QAEA,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,qBAAqB,CAAC;YACnC,4CAA4C;YAC5C,IAAI,iBAAiB,GAAG;gBACtB,QAAQ,GAAG,CAAC,CAAC,iCAAiC,EAAE,eAAe;YACjE;QACF;QAEA,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,oBAAoB;YACjC,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,aAAa,EAAE;gBACzC,QAAQ,IAAI,CAAC;YACf;YACA,IAAI,CAAC,gBAAgB,GAAG;YACxB,IAAI,CAAC,YAAY,GAAG;YACpB,6BAA6B;YAC7B,IAAI,IAAI,CAAC,MAAM,EAAE;gBACf,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,YAAY,GAAG;YAChC;QACF;QAEA,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,aAAa,CAAC;YAC3B,QAAQ,GAAG,CAAC,CAAC,2CAA2C,EAAE,cAAc,SAAS,CAAC;YAClF,IAAI,CAAC,gBAAgB,GAAG;YACxB,IAAI,CAAC,YAAY,GAAG;YACpB,IAAI,CAAC,UAAU,GAAG,GAAG,iCAAiC;YACtD,2CAA2C;YAC3C,IAAI,CAAC,qBAAqB;YAC1B,sDAAsD;YACtD,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC;gBAChC,IAAI,IAAI,CAAC,MAAM,EAAE,WAAW;oBAC1B,QAAQ,GAAG,CAAC,CAAC,wCAAwC,EAAE,YAAY;oBACnE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,sBAAsB;wBAAE,aAAa;oBAAW;gBACnE;YACF;QACF;QAEA,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,SAAS,CAAC;YACvB,wEAAwE;YACxE,uDAAuD;YACvD,uCAAuC;YACvC,IAAI,IAAI,CAAC,MAAM,EAAE;gBACf,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,YAAY,GAAG;YAChC;QACA,gDAAgD;QAClD;QAEA,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,qBAAqB,CAAC;YACnC,IAAI;gBACF,QAAQ,GAAG,CAAC;gBACZ,QAAQ,GAAG,CAAC;gBACZ,QAAQ,GAAG,CAAC;gBACZ,QAAQ,GAAG,CAAC,wBAAwB,KAAK,EAAE;gBAC3C,QAAQ,GAAG,CAAC,2BAA2B,KAAK,WAAW;gBACvD,QAAQ,GAAG,CAAC,0BAA0B,KAAK,UAAU;gBACrD,QAAQ,GAAG,CAAC,qBAAqB,KAAK,UAAU;gBAChD,QAAQ,GAAG,CAAC,sBAAsB,KAAK,MAAM;gBAC7C,QAAQ,GAAG,CAAC,+BAA+B;gBAC3C,QAAQ,GAAG,CAAC;gBAEZ,8HAAK,CAAC,QAAQ,CAAC,IAAA,gKAAmB,EAAC;gBACnC,QAAQ,GAAG,CAAC;gBAEZ,6EAA6E;gBAC7E,yEAAyE;gBACzE,MAAM,QAAQ,8HAAK,CAAC,QAAQ;gBAC5B,MAAM,kBAAkB,MAAM,UAAU;gBACxC,MAAM,qBAAqB,gBAAgB,kBAAkB;gBAE7D,kDAAkD;gBAClD,MAAM,cAMF;oBACF,OAAO;oBACP,WAAW;gBACb;gBAEA,qFAAqF;gBACrF,IAAI,oBAAoB;oBACtB,YAAY,UAAU,GAAG;gBAC3B,OAAO,IAAI,KAAK,WAAW,EAAE;oBAC3B,mFAAmF;oBACnF,YAAY,UAAU,GAAG,KAAK,WAAW;gBAC3C;gBAEA,gEAAgE;gBAChE,8HAAK,CAAC,QAAQ,CAAC,IAAA,mKAAsB,EAAC;gBAEtC,2CAA2C;gBAC3C,IAAI,kDAAkB,eAAe,kBAAkB,UAAU,aAAa,UAAU,KAAK;;YAM/F,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,qCAAqC;YACrD;QACF;QAEA,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,qBAAqB,CAAC;YACnC,IAAI;gBACF,QAAQ,GAAG,CAAC,+BAA+B;gBAC3C,8HAAK,CAAC,QAAQ,CAAC,IAAA,gKAAmB,EAAC;YACrC,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,qCAAqC;YACrD;QACF;QAEA,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,mBAAmB,CAAC;YACjC,IAAI;gBACF,QAAQ,GAAG,CAAC,2BAA2B;YACvC,iCAAiC;YACnC,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,mCAAmC;YACnD;QACF;IACF;IAEA,aAAa;QACX,IAAI,IAAI,CAAC,MAAM,EAAE;YACf,IAAI,CAAC,MAAM,CAAC,UAAU;YACtB,IAAI,CAAC,MAAM,GAAG;YACd,IAAI,CAAC,mBAAmB,CAAC,KAAK;YAC9B,IAAI,CAAC,YAAY,GAAG;QACtB;IACF;IAEA,kBAAkB,UAA2B,EAAE;QAC7C,uBAAuB;QACvB,IAAI,CAAC,cAAc,eAAe,SAAS,eAAe,eACrD,OAAO,eAAe,YAAY,CAAC,MAAM,eAAe,CAAC,SAAS,WAAW,GAAI;YACpF,QAAQ,KAAK,CAAC,CAAC,mDAAmD,EAAE,YAAY;YAChF;QACF;QAEA,6BAA6B;QAC7B,IAAI,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,aAAa;YAC5C,QAAQ,GAAG,CAAC,CAAC,2CAA2C,EAAE,YAAY;YACtE;QACF;QAEA,QAAQ,GAAG,CAAC,CAAC,mDAAmD,CAAC;QACjE,QAAQ,GAAG,CAAC,CAAC,kCAAkC,CAAC;QAChD,QAAQ,GAAG,CAAC,CAAC,mDAAmD,CAAC;QACjE,QAAQ,GAAG,CAAC,CAAC,wBAAwB,EAAE,WAAW,QAAQ,EAAE,OAAO,WAAW,CAAC,CAAC;QAChF,QAAQ,GAAG,CAAC,CAAC,gCAAgC,EAAE,IAAI,CAAC,MAAM,EAAE,aAAa,OAAO;QAChF,QAAQ,GAAG,CAAC,CAAC,sBAAsB,EAAE,IAAI,CAAC,MAAM,EAAE,MAAM,OAAO;QAE/D,sDAAsD;QACtD,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC;QAE7B,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,WAAW;YAC3B,QAAQ,GAAG,CAAC,CAAC,iDAAiD,CAAC;YAC/D,IAAI,CAAC,OAAO;YACZ,yCAAyC;YACzC,IAAI,IAAI,CAAC,MAAM,EAAE;gBACf,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW;oBAC1B,IAAI,IAAI,CAAC,MAAM,EAAE,WAAW;wBAC1B,QAAQ,GAAG,CAAC,CAAC,yDAAyD,EAAE,YAAY;wBACpF,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,sBAAsB;4BAAE,aAAa;wBAAW;wBACjE,QAAQ,GAAG,CAAC,CAAC,qDAAqD,EAAE,YAAY;oBAClF;gBACF;YACF;QACF,OAAO,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE;YAChC,2CAA2C;YAC3C,QAAQ,GAAG,CAAC,CAAC,+DAA+D,CAAC;YAC7E,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,sBAAsB;gBAAE,aAAa;YAAW;YACjE,QAAQ,GAAG,CAAC,CAAC,qDAAqD,EAAE,YAAY;QAClF;QACA,QAAQ,GAAG,CAAC,CAAC,mDAAmD,CAAC;IACnE;IAEA,oBAAoB,UAA2B,EAAE;QAC/C,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,aAAa;YAC3D,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,wBAAwB;gBAAE,aAAa;YAAW;YACnE,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC;QAClC;IACF;IAEA,cAAuB;QACrB,6EAA6E;QAC7E,OAAO,IAAI,CAAC,MAAM,EAAE,cAAc;IACpC;IAEA,cAAuB;QACrB,6BAA6B;QAC7B,yFAAyF;QACzF,iDAAiD;QACjD,mFAAmF;QACnF,gDAAgD;QAChD,IAAI,IAAI,CAAC,MAAM,EAAE,cAAc,MAAM;YACnC,OAAO,MAAM,gCAAgC;QAC/C;QACA,IAAI,IAAI,CAAC,YAAY,EAAE;YACrB,OAAO,MAAM,0BAA0B;QACzC;QACA,gFAAgF;QAChF,OAAO,CAAC,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,MAAM,KAAK;IACnD;IAEA,QAAc;QACZ,wCAAwC;QACxC,QAAQ,GAAG,CAAC;QACZ,IAAI,CAAC,gBAAgB,GAAG;QACxB,IAAI,CAAC,YAAY,GAAG;QACpB,IAAI,CAAC,UAAU,GAAG,GAAG,oBAAoB;QACzC,IAAI,IAAI,CAAC,MAAM,EAAE;YACf,IAAI,CAAC,MAAM,CAAC,kBAAkB;YAC9B,IAAI,CAAC,MAAM,CAAC,UAAU;YACtB,IAAI,CAAC,MAAM,GAAG;QAChB;IACF;IAEA,kBAAwB;QACtB,gCAAgC;QAChC,QAAQ,GAAG,CAAC;QACZ,IAAI,CAAC,KAAK;QAEV,gCAAgC;QAChC,IAAI,CAAC,YAAY;YACf,QAAQ,IAAI,CAAC;YACb,IAAI,CAAC,gBAAgB,GAAG;YACxB;QACF;QAEA,IAAI,CAAC,OAAO;IACd;IAEA,UAAgB;QACd,qFAAqF;QACrF,QAAQ,GAAG,CAAC;QACZ,IAAI,CAAC,gBAAgB,GAAG;QACxB,IAAI,CAAC,YAAY,GAAG;QACpB,IAAI,IAAI,CAAC,MAAM,EAAE;YACf,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,YAAY,GAAG;YAC9B,IAAI,CAAC,MAAM,CAAC,kBAAkB;YAC9B,IAAI,CAAC,MAAM,CAAC,UAAU;YACtB,IAAI,CAAC,MAAM,GAAG;QAChB;IACF;IAEA,aAAsB;QACpB,uDAAuD;QACvD,OAAO,CAAC,cAAe,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,UAAU,IAAI;IACrE;IAEA,YAAqB;QACnB,2FAA2F;QAC3F,OAAO,IAAI,CAAC,gBAAgB;IAC9B;IAEA,oCAAoC;IACpC,eAAe,QAAoB,EAAc;QAC/C,eAAe;QACf,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC;QACzB,8BAA8B;QAC9B,OAAO;YACL,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;QAC9B;IACF;IAEQ,wBAA8B;QACpC,2CAA2C;QAC3C,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAA;YAC3B,IAAI;gBACF;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,6BAA6B;YAC7C;QACF;IACF;AACF;AAEO,MAAM,WAAW,IAAI"}},
    {"offset": {"line": 3474, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Saroj/Desktop/cdcteam-feature-as400integration/cdcteam-feature-as400-integration/seg-cdc-application/frontend/components/providers/ReduxProvider.tsx"],"sourcesContent":["/**\r\n * Redux Provider component\r\n */\r\n'use client';\r\n\r\nimport { Provider } from 'react-redux';\r\nimport { store } from '@/lib/store/store';\r\nimport { useEffect } from 'react';\r\nimport { wsClient } from '@/lib/websocket/client';\r\n\r\nexport function ReduxProvider({ children }: { children: React.ReactNode }) {\r\n  useEffect(() => {\r\n    // Connect WebSocket on mount\r\n    wsClient.connect();\r\n\r\n    // Cleanup on unmount\r\n    return () => {\r\n      wsClient.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  return <Provider store={store}>{children}</Provider>;\r\n}\r\n\r\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;AAGD;AACA;AACA;AACA;AALA;;;;;;AAOO,SAAS,cAAc,EAAE,QAAQ,EAAiC;IACvE,IAAA,kNAAS,EAAC;QACR,6BAA6B;QAC7B,sIAAQ,CAAC,OAAO;QAEhB,qBAAqB;QACrB,OAAO;YACL,sIAAQ,CAAC,UAAU;QACrB;IACF,GAAG,EAAE;IAEL,qBAAO,8OAAC,qKAAQ;QAAC,OAAO,8HAAK;kBAAG;;;;;;AAClC"}},
    {"offset": {"line": 3513, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Saroj/Desktop/cdcteam-feature-as400integration/cdcteam-feature-as400-integration/seg-cdc-application/frontend/components/ui/use-toast.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\n\r\ntype ToastProps = {\r\n    title?: string\r\n    description?: string\r\n    variant?: \"default\" | \"destructive\"\r\n}\r\n\r\ntype ToastActionElement = React.ReactElement\r\n\r\nexport interface Toast extends ToastProps {\r\n    id?: string\r\n    open?: boolean\r\n    onOpenChange?: (open: boolean) => void\r\n    action?: ToastActionElement\r\n}\r\n\r\nconst TOAST_LIMIT = 3\r\nconst TOAST_REMOVE_DELAY = 5000\r\n\r\ntype ToasterToast = Toast\r\n\r\nconst actionTypes = {\r\n    ADD_TOAST: \"ADD_TOAST\",\r\n    UPDATE_TOAST: \"UPDATE_TOAST\",\r\n    DISMISS_TOAST: \"DISMISS_TOAST\",\r\n    REMOVE_TOAST: \"REMOVE_TOAST\",\r\n} as const\r\n\r\nlet count = 0\r\n\r\nfunction genId() {\r\n    count = (count + 1) % Number.MAX_VALUE\r\n    return count.toString()\r\n}\r\n\r\ntype ActionType = typeof actionTypes\r\n\r\ntype Action =\r\n    | {\r\n        type: ActionType[\"ADD_TOAST\"]\r\n        toast: ToasterToast\r\n    }\r\n    | {\r\n        type: ActionType[\"UPDATE_TOAST\"]\r\n        toast: Partial<ToasterToast>\r\n    }\r\n    | {\r\n        type: ActionType[\"DISMISS_TOAST\"]\r\n        toastId?: ToasterToast[\"id\"]\r\n    }\r\n    | {\r\n        type: ActionType[\"REMOVE_TOAST\"]\r\n        toastId?: ToasterToast[\"id\"]\r\n    }\r\n\r\ninterface State {\r\n    toasts: ToasterToast[]\r\n}\r\n\r\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\r\n\r\nconst addToRemoveQueue = (toastId: string) => {\r\n    if (toastTimeouts.has(toastId)) {\r\n        return\r\n    }\r\n\r\n    const timeout = setTimeout(() => {\r\n        toastTimeouts.delete(toastId)\r\n        dispatch({\r\n            type: \"REMOVE_TOAST\",\r\n            toastId: toastId,\r\n        })\r\n    }, TOAST_REMOVE_DELAY)\r\n\r\n    toastTimeouts.set(toastId, timeout)\r\n}\r\n\r\nexport const reducer = (state: State, action: Action): State => {\r\n    switch (action.type) {\r\n        case \"ADD_TOAST\":\r\n            return {\r\n                ...state,\r\n                toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\r\n            }\r\n\r\n        case \"UPDATE_TOAST\":\r\n            return {\r\n                ...state,\r\n                toasts: state.toasts.map((t) =>\r\n                    t.id === action.toast.id ? { ...t, ...action.toast } : t\r\n                ),\r\n            }\r\n\r\n        case \"DISMISS_TOAST\": {\r\n            const { toastId } = action\r\n\r\n            if (toastId) {\r\n                addToRemoveQueue(toastId)\r\n            } else {\r\n                state.toasts.forEach((toast) => {\r\n                    if (toast.id) addToRemoveQueue(toast.id)\r\n                })\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                toasts: state.toasts.map((t) =>\r\n                    t.id === toastId || toastId === undefined\r\n                        ? {\r\n                            ...t,\r\n                            open: false,\r\n                        }\r\n                        : t\r\n                ),\r\n            }\r\n        }\r\n        case \"REMOVE_TOAST\":\r\n            if (action.toastId === undefined) {\r\n                return {\r\n                    ...state,\r\n                    toasts: [],\r\n                }\r\n            }\r\n            return {\r\n                ...state,\r\n                toasts: state.toasts.filter((t) => t.id !== action.toastId),\r\n            }\r\n    }\r\n}\r\n\r\nconst listeners: Array<(state: State) => void> = []\r\n\r\nlet memoryState: State = { toasts: [] }\r\n\r\nfunction dispatch(action: Action) {\r\n    memoryState = reducer(memoryState, action)\r\n    listeners.forEach((listener) => {\r\n        listener(memoryState)\r\n    })\r\n}\r\n\r\nfunction toast({ ...props }: Toast) {\r\n    const id = genId()\r\n\r\n    const update = (props: ToasterToast) =>\r\n        dispatch({\r\n            type: \"UPDATE_TOAST\",\r\n            toast: { ...props, id },\r\n        })\r\n    const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\r\n\r\n    dispatch({\r\n        type: \"ADD_TOAST\",\r\n        toast: {\r\n            ...props,\r\n            id,\r\n            open: true,\r\n            onOpenChange: (open) => {\r\n                if (!open) dismiss()\r\n            },\r\n        },\r\n    })\r\n\r\n    return {\r\n        id: id,\r\n        dismiss,\r\n        update,\r\n    }\r\n}\r\n\r\nfunction useToast() {\r\n    const [state, setState] = React.useState<State>(memoryState)\r\n\r\n    React.useEffect(() => {\r\n        listeners.push(setState)\r\n        return () => {\r\n            const index = listeners.indexOf(setState)\r\n            if (index > -1) {\r\n                listeners.splice(index, 1)\r\n            }\r\n        }\r\n    }, [state])\r\n\r\n    return {\r\n        ...state,\r\n        toast,\r\n        dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\r\n    }\r\n}\r\n\r\nexport { useToast, toast }\r\n"],"names":[],"mappings":";;;;;;;;AAEA;AAFA;;AAmBA,MAAM,cAAc;AACpB,MAAM,qBAAqB;AAI3B,MAAM,cAAc;IAChB,WAAW;IACX,cAAc;IACd,eAAe;IACf,cAAc;AAClB;AAEA,IAAI,QAAQ;AAEZ,SAAS;IACL,QAAQ,CAAC,QAAQ,CAAC,IAAI,OAAO,SAAS;IACtC,OAAO,MAAM,QAAQ;AACzB;AA0BA,MAAM,gBAAgB,IAAI;AAE1B,MAAM,mBAAmB,CAAC;IACtB,IAAI,cAAc,GAAG,CAAC,UAAU;QAC5B;IACJ;IAEA,MAAM,UAAU,WAAW;QACvB,cAAc,MAAM,CAAC;QACrB,SAAS;YACL,MAAM;YACN,SAAS;QACb;IACJ,GAAG;IAEH,cAAc,GAAG,CAAC,SAAS;AAC/B;AAEO,MAAM,UAAU,CAAC,OAAc;IAClC,OAAQ,OAAO,IAAI;QACf,KAAK;YACD,OAAO;gBACH,GAAG,KAAK;gBACR,QAAQ;oBAAC,OAAO,KAAK;uBAAK,MAAM,MAAM;iBAAC,CAAC,KAAK,CAAC,GAAG;YACrD;QAEJ,KAAK;YACD,OAAO;gBACH,GAAG,KAAK;gBACR,QAAQ,MAAM,MAAM,CAAC,GAAG,CAAC,CAAC,IACtB,EAAE,EAAE,KAAK,OAAO,KAAK,CAAC,EAAE,GAAG;wBAAE,GAAG,CAAC;wBAAE,GAAG,OAAO,KAAK;oBAAC,IAAI;YAE/D;QAEJ,KAAK;YAAiB;gBAClB,MAAM,EAAE,OAAO,EAAE,GAAG;gBAEpB,IAAI,SAAS;oBACT,iBAAiB;gBACrB,OAAO;oBACH,MAAM,MAAM,CAAC,OAAO,CAAC,CAAC;wBAClB,IAAI,MAAM,EAAE,EAAE,iBAAiB,MAAM,EAAE;oBAC3C;gBACJ;gBAEA,OAAO;oBACH,GAAG,KAAK;oBACR,QAAQ,MAAM,MAAM,CAAC,GAAG,CAAC,CAAC,IACtB,EAAE,EAAE,KAAK,WAAW,YAAY,YAC1B;4BACE,GAAG,CAAC;4BACJ,MAAM;wBACV,IACE;gBAEd;YACJ;QACA,KAAK;YACD,IAAI,OAAO,OAAO,KAAK,WAAW;gBAC9B,OAAO;oBACH,GAAG,KAAK;oBACR,QAAQ,EAAE;gBACd;YACJ;YACA,OAAO;gBACH,GAAG,KAAK;gBACR,QAAQ,MAAM,MAAM,CAAC,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,OAAO,OAAO;YAC9D;IACR;AACJ;AAEA,MAAM,YAA2C,EAAE;AAEnD,IAAI,cAAqB;IAAE,QAAQ,EAAE;AAAC;AAEtC,SAAS,SAAS,MAAc;IAC5B,cAAc,QAAQ,aAAa;IACnC,UAAU,OAAO,CAAC,CAAC;QACf,SAAS;IACb;AACJ;AAEA,SAAS,MAAM,EAAE,GAAG,OAAc;IAC9B,MAAM,KAAK;IAEX,MAAM,SAAS,CAAC,QACZ,SAAS;YACL,MAAM;YACN,OAAO;gBAAE,GAAG,KAAK;gBAAE;YAAG;QAC1B;IACJ,MAAM,UAAU,IAAM,SAAS;YAAE,MAAM;YAAiB,SAAS;QAAG;IAEpE,SAAS;QACL,MAAM;QACN,OAAO;YACH,GAAG,KAAK;YACR;YACA,MAAM;YACN,cAAc,CAAC;gBACX,IAAI,CAAC,MAAM;YACf;QACJ;IACJ;IAEA,OAAO;QACH,IAAI;QACJ;QACA;IACJ;AACJ;AAEA,SAAS;IACL,MAAM,CAAC,OAAO,SAAS,GAAG,iNAAc,CAAQ;IAEhD,kNAAe,CAAC;QACZ,UAAU,IAAI,CAAC;QACf,OAAO;YACH,MAAM,QAAQ,UAAU,OAAO,CAAC;YAChC,IAAI,QAAQ,CAAC,GAAG;gBACZ,UAAU,MAAM,CAAC,OAAO;YAC5B;QACJ;IACJ,GAAG;QAAC;KAAM;IAEV,OAAO;QACH,GAAG,KAAK;QACR;QACA,SAAS,CAAC,UAAqB,SAAS;gBAAE,MAAM;gBAAiB;YAAQ;IAC7E;AACJ"}},
    {"offset": {"line": 3667, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Saroj/Desktop/cdcteam-feature-as400integration/cdcteam-feature-as400-integration/seg-cdc-application/frontend/components/ui/toaster.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useToast } from \"./use-toast\"\r\nimport { X } from \"lucide-react\"\r\n\r\nexport function Toaster() {\r\n    const { toasts } = useToast()\r\n\r\n    return (\r\n        <div className=\"fixed top-0 right-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:top-auto sm:right-0 sm:bottom-0 sm:flex-col md:max-w-[420px] pointer-events-none\">\r\n            {toasts.map(function ({ id, title, description, variant, ...props }) {\r\n                return (\r\n                    <div\r\n                        key={id}\r\n                        className=\"pointer-events-auto mb-4 flex w-full flex-col items-start gap-2 overflow-hidden rounded-lg border p-4 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\"\r\n                        style={{\r\n                            backgroundColor: variant === \"destructive\" ? \"rgba(239, 68, 68, 0.1)\" : \"rgba(6, 182, 212, 0.1)\",\r\n                            borderColor: variant === \"destructive\" ? \"rgba(239, 68, 68, 0.3)\" : \"rgba(6, 182, 212, 0.3)\",\r\n                        }}\r\n                    >\r\n                        <div className=\"grid gap-1 flex-1\">\r\n                            {title && (\r\n                                <div className=\"text-sm font-semibold\" style={{ color: variant === \"destructive\" ? \"#ef4444\" : \"#06b6d4\" }}>\r\n                                    {title}\r\n                                </div>\r\n                            )}\r\n                            {description && (\r\n                                <div className=\"text-sm opacity-90 text-foreground-muted\">\r\n                                    {description}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                        <button\r\n                            onClick={() => {\r\n                                // Auto-dismiss after showing\r\n                            }}\r\n                            className=\"absolute right-2 top-2 rounded-md p-1 opacity-70 transition-opacity hover:opacity-100\"\r\n                        >\r\n                            <X className=\"h-4 w-4\" />\r\n                        </button>\r\n                    </div>\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKO,SAAS;IACZ,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,6IAAQ;IAE3B,qBACI,8OAAC;QAAI,WAAU;kBACV,OAAO,GAAG,CAAC,SAAU,EAAE,EAAE,EAAE,KAAK,EAAE,WAAW,EAAE,OAAO,EAAE,GAAG,OAAO;YAC/D,qBACI,8OAAC;gBAEG,WAAU;gBACV,OAAO;oBACH,iBAAiB,YAAY,gBAAgB,2BAA2B;oBACxE,aAAa,YAAY,gBAAgB,2BAA2B;gBACxE;;kCAEA,8OAAC;wBAAI,WAAU;;4BACV,uBACG,8OAAC;gCAAI,WAAU;gCAAwB,OAAO;oCAAE,OAAO,YAAY,gBAAgB,YAAY;gCAAU;0CACpG;;;;;;4BAGR,6BACG,8OAAC;gCAAI,WAAU;0CACV;;;;;;;;;;;;kCAIb,8OAAC;wBACG,SAAS;wBACL,6BAA6B;wBACjC;wBACA,WAAU;kCAEV,cAAA,8OAAC,iMAAC;4BAAC,WAAU;;;;;;;;;;;;eAzBZ;;;;;QA6BjB;;;;;;AAGZ"}}]
}